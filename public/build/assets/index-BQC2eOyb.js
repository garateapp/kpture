import{r as x,j as l,b as gr,g as Ve,U as xr,a as ut}from"./app-Be8ghtRb.js";import{c as Me,a as G,u as ue,d as ft,e as br,B as Y}from"./button-D1N9RrD0.js";import{c as Se,u as St,a as re,P as qe}from"./index-BQmSkEsW.js";import{P as ae}from"./index-CCmhZsir.js";import{I as _r}from"./input-Co6CCOt6.js";import{L as Q}from"./label-DPNJkhla.js";import{a as vt,C as wr,T as Cr}from"./textarea-B1dCnzMh.js";import{S as Nr,a as Pr,b as jr,c as Mr,d as ye}from"./select-B4H269ix.js";import{C as Sr}from"./checkbox-DjBb_Stx.js";import{c as Dt,u as Dr,R as kr,I as Or,C as Rr,a as kt,b as Er,d as Ot,e as Ir,f as Tr}from"./app-layout-BXVEw3EX.js";import{u as Fr}from"./index-Bvxqhwof.js";import{u as Wr}from"./index-C7CVg9dv.js";import{A as ge,a as H}from"./alert-B2RiZxSE.js";import{t as W,c as K,n as fe,s as Ce,a as de,g as ht,m as Lr,b as Ar,d as Ur,h as ee,f as ne,i as Br,j as Ke,k as zr,l as Yr,o as Rt,e as $r}from"./es-D51pjrp8.js";import{u as Hr,P as Gr,h as Vr,R as qr,a as Kr,F as Xr,D as Jr,X as pt}from"./index-wGWY3QV4.js";import{S as Qr,C as Zr}from"./save-D8X6UB3U.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ta=Me("ChevronLeft",ea);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xe=Me("CircleAlert",ra);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],na=Me("Circle",aa);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],ia=Me("PenTool",oa);function ze(e){"@babel/helpers - typeof";return ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ze(e)}var Xe="Progress",Je=100,[sa,Ci]=Se(Xe),[la,da]=sa(Xe),Et=x.forwardRef((e,a)=>{const{__scopeProgress:t,value:r=null,max:n,getValueLabel:o=ca,...i}=e;(n||n===0)&&!mt(n)&&console.error(ua(`${n}`,"Progress"));const s=mt(n)?n:Je;r!==null&&!yt(r,s)&&console.error(fa(`${r}`,"Progress"));const d=yt(r,s)?r:null,c=Ne(d)?o(d,s):void 0;return l.jsx(la,{scope:t,value:d,max:s,children:l.jsx(ae.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":Ne(d)?d:void 0,"aria-valuetext":c,role:"progressbar","data-state":Ft(d,s),"data-value":d??void 0,"data-max":s,...i,ref:a})})});Et.displayName=Xe;var It="ProgressIndicator",Tt=x.forwardRef((e,a)=>{const{__scopeProgress:t,...r}=e,n=da(It,t);return l.jsx(ae.div,{"data-state":Ft(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...r,ref:a})});Tt.displayName=It;function ca(e,a){return`${Math.round(e/a*100)}%`}function Ft(e,a){return e==null?"indeterminate":e===a?"complete":"loading"}function Ne(e){return typeof e=="number"}function mt(e){return Ne(e)&&!isNaN(e)&&e>0}function yt(e,a){return Ne(e)&&!isNaN(e)&&e<=a&&e>=0}function ua(e,a){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${a}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Je}\`.`}function fa(e,a){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${a}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Je} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var va=Et,ha=Tt;function pa({className:e,value:a,...t}){return l.jsx(va,{"data-slot":"progress",className:G("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...t,children:l.jsx(ha,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})})}var be={exports:{}},ma=be.exports,gt;function ya(){return gt||(gt=1,function(e,a){(function(r,n){e.exports=n(gr())})(ma,function(t){return function(r){var n={};function o(i){if(n[i])return n[i].exports;var s=n[i]={i,l:!1,exports:{}};return r[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=r,o.c=n,o.d=function(i,s,d){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:d})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(s&1&&(i=o(i)),s&8||s&4&&typeof i=="object"&&i&&i.__esModule)return i;var d=Object.create(null);if(o.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:i}),s&2&&typeof i!="string")for(var c in i)o.d(d,c,(function(u){return i[u]}).bind(null,c));return d},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,n,o){o.r(n);var i=o("react"),s=function(){var h=function(v,f){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var g in y)y.hasOwnProperty(g)&&(p[g]=y[g])},h(v,f)};return function(v,f){h(v,f);function p(){this.constructor=v}v.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}(),d=function(){return d=Object.assign||function(h){for(var v,f=1,p=arguments.length;f<p;f++){v=arguments[f];for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(h[y]=v[y])}return h},d.apply(this,arguments)},c=function(h,v){var f={};for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&v.indexOf(p)<0&&(f[p]=h[p]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,p=Object.getOwnPropertySymbols(h);y<p.length;y++)v.indexOf(p[y])<0&&Object.prototype.propertyIsEnumerable.call(h,p[y])&&(f[p[y]]=h[p[y]]);return f};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(v){var f=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return f?new Promise(function(p,y){f.call(navigator,v,p,y)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function u(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var m=function(h){s(v,h);function v(f){var p=h.call(this,f)||this;return p.canvas=null,p.ctx=null,p.requestUserMediaId=0,p.unmounted=!1,p.state={hasUserMedia:!1},p}return v.prototype.componentDidMount=function(){var f=this,p=f.state,y=f.props;if(this.unmounted=!1,!u()){y.onUserMediaError("getUserMedia not supported");return}p.hasUserMedia||this.requestUserMedia(),y.children&&typeof y.children!="function"&&console.warn("children must be a function")},v.prototype.componentDidUpdate=function(f){var p=this.props;if(!u()){p.onUserMediaError("getUserMedia not supported");return}var y=JSON.stringify(f.audioConstraints)!==JSON.stringify(p.audioConstraints),g=JSON.stringify(f.videoConstraints)!==JSON.stringify(p.videoConstraints),w=f.minScreenshotWidth!==p.minScreenshotWidth,N=f.minScreenshotHeight!==p.minScreenshotHeight;(g||w||N)&&(this.canvas=null,this.ctx=null),(y||g)&&(this.stopAndCleanup(),this.requestUserMedia())},v.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},v.stopMediaStream=function(f){f&&(f.getVideoTracks&&f.getAudioTracks?(f.getVideoTracks().map(function(p){f.removeTrack(p),p.stop()}),f.getAudioTracks().map(function(p){f.removeTrack(p),p.stop()})):f.stop())},v.prototype.stopAndCleanup=function(){var f=this.state;f.hasUserMedia&&(v.stopMediaStream(this.stream),f.src&&window.URL.revokeObjectURL(f.src))},v.prototype.getScreenshot=function(f){var p=this,y=p.state,g=p.props;if(!y.hasUserMedia)return null;var w=this.getCanvas(f);return w&&w.toDataURL(g.screenshotFormat,g.screenshotQuality)},v.prototype.getCanvas=function(f){var p=this,y=p.state,g=p.props;if(!this.video||!y.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var w=this.video.videoWidth,N=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var P=w/N;w=g.minScreenshotWidth||this.video.clientWidth,N=w/P,g.minScreenshotHeight&&N<g.minScreenshotHeight&&(N=g.minScreenshotHeight,w=N*P)}this.canvas=document.createElement("canvas"),this.canvas.width=(f==null?void 0:f.width)||w,this.canvas.height=(f==null?void 0:f.height)||N,this.ctx=this.canvas.getContext("2d")}var T=this,S=T.ctx,D=T.canvas;return S&&D&&(D.width=(f==null?void 0:f.width)||D.width,D.height=(f==null?void 0:f.height)||D.height,g.mirrored&&(S.translate(D.width,0),S.scale(-1,1)),S.imageSmoothingEnabled=g.imageSmoothing,S.drawImage(this.video,0,0,(f==null?void 0:f.width)||D.width,(f==null?void 0:f.height)||D.height),g.mirrored&&(S.scale(-1,1),S.translate(-D.width,0))),D},v.prototype.requestUserMedia=function(){var f=this,p=this.props,y=function(N,P){var T={video:typeof P<"u"?P:!0};p.audio&&(T.audio=typeof N<"u"?N:!0),f.requestUserMediaId++;var S=f.requestUserMediaId;navigator.mediaDevices.getUserMedia(T).then(function(D){f.unmounted||S!==f.requestUserMediaId?v.stopMediaStream(D):f.handleUserMedia(null,D)}).catch(function(D){f.handleUserMedia(D)})};if("mediaDevices"in navigator)y(p.audioConstraints,p.videoConstraints);else{var g=function(N){return{optional:[{sourceId:N}]}},w=function(N){var P=N.deviceId;return typeof P=="string"?P:Array.isArray(P)&&P.length>0?P[0]:typeof P=="object"&&P.ideal?P.ideal:null};MediaStreamTrack.getSources(function(N){var P=null,T=null;N.forEach(function(A){A.kind==="audio"?P=A.id:A.kind==="video"&&(T=A.id)});var S=w(p.audioConstraints);S&&(P=S);var D=w(p.videoConstraints);D&&(T=D),y(g(P),g(T))})}},v.prototype.handleUserMedia=function(f,p){var y=this.props;if(f||!p){this.setState({hasUserMedia:!1}),y.onUserMediaError(f);return}this.stream=p;try{this.video&&(this.video.srcObject=p),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(p)})}y.onUserMedia(p)},v.prototype.render=function(){var f=this,p=this,y=p.state,g=p.props,w=g.audio;g.forceScreenshotSourceSize;var N=g.disablePictureInPicture;g.onUserMedia,g.onUserMediaError,g.screenshotFormat,g.screenshotQuality,g.minScreenshotWidth,g.minScreenshotHeight,g.audioConstraints,g.videoConstraints,g.imageSmoothing;var P=g.mirrored,T=g.style,S=T===void 0?{}:T,D=g.children,A=c(g,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),F=P?d(d({},S),{transform:(S.transform||"")+" scaleX(-1)"}):S,te={getScreenshot:this.getScreenshot.bind(this)};return i.createElement(i.Fragment,null,i.createElement("video",d({autoPlay:!0,disablePictureInPicture:N,src:y.src,muted:!w,playsInline:!0,ref:function($){f.video=$},style:F},A)),D&&D(te))},v.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},v}(i.Component);n.default=m},react:function(r,n){r.exports=t}}).default})}(be)),be.exports}var ga=ya();const xa=Ve(ga);function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ye.apply(null,arguments)}function ba(e,a){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(a.indexOf(r)!==-1)continue;t[r]=e[r]}return t}function _a(e,a){if(e==null)return{};var t,r,n=ba(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],a.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function wa(e,a,t){return Object.defineProperty(e,"prototype",{writable:!1}),e}function Ca(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function $e(e,a){return $e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},$e(e,a)}function Na(e,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),a&&$e(e,a)}function Pe(e){return Pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},Pe(e)}function Wt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wt=function(){return!!e})()}function Pa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ja(e,a){if(a&&(ze(a)=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pa(e)}function Ma(e){var a=Wt();return function(){var t,r=Pe(e);if(a){var n=Pe(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return ja(this,t)}}var Ee={exports:{}},Ie,xt;function Sa(){if(xt)return Ie;xt=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ie=e,Ie}var Te,bt;function Da(){if(bt)return Te;bt=1;var e=Sa();function a(){}function t(){}return t.resetWarningCache=a,Te=function(){function r(i,s,d,c,u,m){if(m!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}r.isRequired=r;function n(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:n,element:r,elementType:r,instanceOf:n,node:r,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:t,resetWarningCache:a};return o.PropTypes=o,o},Te}var _t;function ka(){return _t||(_t=1,Ee.exports=Da()()),Ee.exports}var Oa=ka();const z=Ve(Oa);/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function ie(e,a,t){this.x=e,this.y=a,this.time=t||new Date().getTime()}ie.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1};ie.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))};ie.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time};function Qe(e,a,t,r){this.startPoint=e,this.control1=a,this.control2=t,this.endPoint=r}Qe.prototype.length=function(){for(var e=10,a=0,t=void 0,r=void 0,n=0;n<=e;n+=1){var o=n/e,i=this._point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),s=this._point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(n>0){var d=i-t,c=s-r;a+=Math.sqrt(d*d+c*c)}t=i,r=s}return a};Qe.prototype._point=function(e,a,t,r,n){return a*(1-e)*(1-e)*(1-e)+3*t*(1-e)*(1-e)*e+3*r*(1-e)*e*e+n*e*e*e};function Ra(e,a,t){var r,n,o,i=null,s=0;t||(t={});var d=function(){s=t.leading===!1?0:Date.now(),i=null,o=e.apply(r,n),i||(r=n=null)};return function(){var c=Date.now();!s&&t.leading===!1&&(s=c);var u=a-(c-s);return r=this,n=arguments,u<=0||u>a?(i&&(clearTimeout(i),i=null),s=c,o=e.apply(r,n),i||(r=n=null)):!i&&t.trailing!==!1&&(i=setTimeout(d,u)),o}}function O(e,a){var t=this,r=a||{};this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.throttle="throttle"in r?r.throttle:16,this.minDistance="minDistance"in r?r.minDistance:5,this.throttle?this._strokeMoveUpdate=Ra(O.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=O.prototype._strokeUpdate,this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.onBegin=r.onBegin,this.onEnd=r.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(n){n.which===1&&(t._mouseButtonDown=!0,t._strokeBegin(n))},this._handleMouseMove=function(n){t._mouseButtonDown&&t._strokeMoveUpdate(n)},this._handleMouseUp=function(n){n.which===1&&t._mouseButtonDown&&(t._mouseButtonDown=!1,t._strokeEnd(n))},this._handleTouchStart=function(n){if(n.targetTouches.length===1){var o=n.changedTouches[0];t._strokeBegin(o)}},this._handleTouchMove=function(n){n.preventDefault();var o=n.targetTouches[0];t._strokeMoveUpdate(o)},this._handleTouchEnd=function(n){var o=n.target===t._canvas;o&&(n.preventDefault(),t._strokeEnd(n))},this.on()}O.prototype.clear=function(){var e=this._ctx,a=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,a.width,a.height),e.fillRect(0,0,a.width,a.height),this._data=[],this._reset(),this._isEmpty=!0};O.prototype.fromDataURL=function(e){var a=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=new Image,n=t.ratio||window.devicePixelRatio||1,o=t.width||this._canvas.width/n,i=t.height||this._canvas.height/n;this._reset(),r.src=e,r.onload=function(){a._ctx.drawImage(r,0,0,o,i)},this._isEmpty=!1};O.prototype.toDataURL=function(e){var a;switch(e){case"image/svg+xml":return this._toSVG();default:for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return(a=this._canvas).toDataURL.apply(a,[e].concat(r))}};O.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};O.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};O.prototype.isEmpty=function(){return this._isEmpty};O.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),typeof this.onBegin=="function"&&this.onBegin(e)};O.prototype._strokeUpdate=function(e){var a=e.clientX,t=e.clientY,r=this._createPoint(a,t),n=this._data[this._data.length-1],o=n&&n[n.length-1],i=o&&r.distanceTo(o)<this.minDistance;if(!(o&&i)){var s=this._addPoint(r),d=s.curve,c=s.widths;d&&c&&this._drawCurve(d,c.start,c.end),this._data[this._data.length-1].push({x:r.x,y:r.y,time:r.time,color:this.penColor})}};O.prototype._strokeEnd=function(e){var a=this.points.length>2,t=this.points[0];if(!a&&t&&this._drawDot(t),t){var r=this._data[this._data.length-1],n=r[r.length-1];t.equals(n)||r.push({x:t.x,y:t.y,time:t.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(e)};O.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};O.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};O.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};O.prototype._createPoint=function(e,a,t){var r=this._canvas.getBoundingClientRect();return new ie(e-r.left,a-r.top,t||new Date().getTime())};O.prototype._addPoint=function(e){var a=this.points,t=void 0;if(a.push(e),a.length>2){a.length===3&&a.unshift(a[0]),t=this._calculateCurveControlPoints(a[0],a[1],a[2]);var r=t.c2;t=this._calculateCurveControlPoints(a[1],a[2],a[3]);var n=t.c1,o=new Qe(a[1],r,n,a[2]),i=this._calculateCurveWidths(o);return a.shift(),{curve:o,widths:i}}return{}};O.prototype._calculateCurveControlPoints=function(e,a,t){var r=e.x-a.x,n=e.y-a.y,o=a.x-t.x,i=a.y-t.y,s={x:(e.x+a.x)/2,y:(e.y+a.y)/2},d={x:(a.x+t.x)/2,y:(a.y+t.y)/2},c=Math.sqrt(r*r+n*n),u=Math.sqrt(o*o+i*i),m=s.x-d.x,h=s.y-d.y,v=u/(c+u),f={x:d.x+m*v,y:d.y+h*v},p=a.x-f.x,y=a.y-f.y;return{c1:new ie(s.x+p,s.y+y),c2:new ie(d.x+p,d.y+y)}};O.prototype._calculateCurveWidths=function(e){var a=e.startPoint,t=e.endPoint,r={start:null,end:null},n=this.velocityFilterWeight*t.velocityFrom(a)+(1-this.velocityFilterWeight)*this._lastVelocity,o=this._strokeWidth(n);return r.start=this._lastWidth,r.end=o,this._lastVelocity=n,this._lastWidth=o,r};O.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)};O.prototype._drawPoint=function(e,a,t){var r=this._ctx;r.moveTo(e,a),r.arc(e,a,t,0,2*Math.PI,!1),this._isEmpty=!1};O.prototype._drawCurve=function(e,a,t){var r=this._ctx,n=t-a,o=Math.floor(e.length());r.beginPath();for(var i=0;i<o;i+=1){var s=i/o,d=s*s,c=d*s,u=1-s,m=u*u,h=m*u,v=h*e.startPoint.x;v+=3*m*s*e.control1.x,v+=3*u*d*e.control2.x,v+=c*e.endPoint.x;var f=h*e.startPoint.y;f+=3*m*s*e.control1.y,f+=3*u*d*e.control2.y,f+=c*e.endPoint.y;var p=a+c*n;this._drawPoint(v,f,p)}r.closePath(),r.fill()};O.prototype._drawDot=function(e){var a=this._ctx,t=typeof this.dotSize=="function"?this.dotSize():this.dotSize;a.beginPath(),this._drawPoint(e.x,e.y,t),a.closePath(),a.fill()};O.prototype._fromData=function(e,a,t){for(var r=0;r<e.length;r+=1){var n=e[r];if(n.length>1)for(var o=0;o<n.length;o+=1){var i=n[o],s=new ie(i.x,i.y,i.time),d=i.color;if(o===0)this.penColor=d,this._reset(),this._addPoint(s);else if(o!==n.length-1){var c=this._addPoint(s),u=c.curve,m=c.widths;u&&m&&a(u,m,d)}}else{this._reset();var h=n[0];t(h)}}};O.prototype._toSVG=function(){var e=this,a=this._data,t=this._canvas,r=Math.max(window.devicePixelRatio||1,1),n=0,o=0,i=t.width/r,s=t.height/r,d=document.createElementNS("http://www.w3.org/2000/svg","svg");d.setAttributeNS(null,"width",t.width),d.setAttributeNS(null,"height",t.height),this._fromData(a,function(g,w,N){var P=document.createElement("path");if(!isNaN(g.control1.x)&&!isNaN(g.control1.y)&&!isNaN(g.control2.x)&&!isNaN(g.control2.y)){var T="M "+g.startPoint.x.toFixed(3)+","+g.startPoint.y.toFixed(3)+" "+("C "+g.control1.x.toFixed(3)+","+g.control1.y.toFixed(3)+" ")+(g.control2.x.toFixed(3)+","+g.control2.y.toFixed(3)+" ")+(g.endPoint.x.toFixed(3)+","+g.endPoint.y.toFixed(3));P.setAttribute("d",T),P.setAttribute("stroke-width",(w.end*2.25).toFixed(3)),P.setAttribute("stroke",N),P.setAttribute("fill","none"),P.setAttribute("stroke-linecap","round"),d.appendChild(P)}},function(g){var w=document.createElement("circle"),N=typeof e.dotSize=="function"?e.dotSize():e.dotSize;w.setAttribute("r",N),w.setAttribute("cx",g.x),w.setAttribute("cy",g.y),w.setAttribute("fill",g.color),d.appendChild(w)});var c="data:image/svg+xml;base64,",u='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+n+" "+o+" "+i+" "+s+'"')+(' width="'+i+'"')+(' height="'+s+'"')+">",m=d.innerHTML;if(m===void 0){var h=document.createElement("dummy"),v=d.childNodes;h.innerHTML="";for(var f=0;f<v.length;f+=1)h.appendChild(v[f].cloneNode(!0));m=h.innerHTML}var p="</svg>",y=u+m+p;return c+btoa(y)};O.prototype.fromData=function(e){var a=this;this.clear(),this._fromData(e,function(t,r){return a._drawCurve(t,r.start,r.end)},function(t){return a._drawDot(t)}),this._data=e};O.prototype.toData=function(){return this._data};var _e={exports:{}},Ea=_e.exports,wt;function Ia(){return wt||(wt=1,function(e,a){(function(t,r){e.exports=r()})(Ea,function(){return function(t){function r(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}var n={};return r.m=t,r.c=n,r.p="",r(0)}([function(t,r){function n(c){var u=c.getContext("2d"),m=c.width,h=c.height,v=u.getImageData(0,0,m,h).data,f=s(!0,m,h,v),p=s(!1,m,h,v),y=d(!0,m,h,v),g=d(!1,m,h,v),w=g-y+1,N=p-f+1,P=u.getImageData(y,f,w,N);return c.width=w,c.height=N,u.clearRect(0,0,w,N),u.putImageData(P,0,0),c}function o(c,u,m,h){return{red:h[4*(m*u+c)],green:h[4*(m*u+c)+1],blue:h[4*(m*u+c)+2],alpha:h[4*(m*u+c)+3]}}function i(c,u,m,h){return o(c,u,m,h).alpha}function s(c,u,m,h){for(var v=c?1:-1,f=c?0:m-1,p=f;c?p<m:p>-1;p+=v)for(var y=0;y<u;y++)if(i(y,p,u,h))return p;return null}function d(c,u,m,h){for(var v=c?1:-1,f=c?0:u-1,p=f;c?p<u:p>-1;p+=v)for(var y=0;y<m;y++)if(i(p,y,u,h))return p;return null}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n}])})}(_e)),_e.exports}var Ta=Ia();const Fa=Ve(Ta);var Wa=["canvasProps","clearOnResize"],De=function(e){Na(t,e);var a=Ma(t);function t(){var r;Ca(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return r=a.call.apply(a,[this].concat(o)),r.staticThis=r.constructor,r._sigPad=null,r._canvas=null,r.setRef=function(s){r._canvas=s,r._canvas===null&&(r._sigPad=null)},r._excludeOurProps=function(){var s=r.props;s.canvasProps,s.clearOnResize;var d=_a(s,Wa);return d},r.componentDidMount=function(){var s=r.getCanvas();r._sigPad=new O(s,r._excludeOurProps()),r._resizeCanvas(),r.on()},r.componentWillUnmount=function(){r.off()},r.componentDidUpdate=function(){Object.assign(r._sigPad,r._excludeOurProps())},r.getCanvas=function(){if(r._canvas===null)throw r.staticThis.refNullError;return r._canvas},r.getTrimmedCanvas=function(){var s=r.getCanvas(),d=document.createElement("canvas");return d.width=s.width,d.height=s.height,d.getContext("2d").drawImage(s,0,0),Fa(d)},r.getSignaturePad=function(){if(r._sigPad===null)throw r.staticThis.refNullError;return r._sigPad},r._checkClearOnResize=function(){r.props.clearOnResize&&r._resizeCanvas()},r._resizeCanvas=function(){var s,d,c=(s=r.props.canvasProps)!==null&&s!==void 0?s:{},u=c.width,m=c.height;if(!(typeof u<"u"&&typeof m<"u")){var h=r.getCanvas(),v=Math.max((d=window.devicePixelRatio)!==null&&d!==void 0?d:1,1);typeof u>"u"&&(h.width=h.offsetWidth*v),typeof m>"u"&&(h.height=h.offsetHeight*v),h.getContext("2d").scale(v,v),r.clear()}},r.render=function(){var s=r.props.canvasProps;return xr.createElement("canvas",Ye({ref:r.setRef},s))},r.on=function(){return window.addEventListener("resize",r._checkClearOnResize),r.getSignaturePad().on()},r.off=function(){return window.removeEventListener("resize",r._checkClearOnResize),r.getSignaturePad().off()},r.clear=function(){return r.getSignaturePad().clear()},r.isEmpty=function(){return r.getSignaturePad().isEmpty()},r.fromDataURL=function(s,d){return r.getSignaturePad().fromDataURL(s,d)},r.toDataURL=function(s,d){return r.getSignaturePad().toDataURL(s,d)},r.fromData=function(s){return r.getSignaturePad().fromData(s)},r.toData=function(){return r.getSignaturePad().toData()},r}return wa(t)}(x.Component);De.propTypes={velocityFilterWeight:z.number,minWidth:z.number,maxWidth:z.number,minDistance:z.number,dotSize:z.oneOfType([z.number,z.func]),penColor:z.string,throttle:z.number,onEnd:z.func,onBegin:z.func,canvasProps:z.object,clearOnResize:z.bool};De.defaultProps={clearOnResize:!0};De.refNullError=new Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");function L(e,a,t){const r=W(e,t==null?void 0:t.in);return isNaN(a)?K((t==null?void 0:t.in)||e,NaN):(a&&r.setDate(r.getDate()+a),r)}function V(e,a,t){const r=W(e,t==null?void 0:t.in);if(isNaN(a))return K((t==null?void 0:t.in)||e,NaN);if(!a)return r;const n=r.getDate(),o=K((t==null?void 0:t.in)||e,r.getTime());o.setMonth(r.getMonth()+a+1,0);const i=o.getDate();return n>=i?o:(r.setFullYear(o.getFullYear(),o.getMonth(),n),r)}function He(e,a,t){return L(e,a*7,t)}function La(e,a,t){return V(e,a*12,t)}function Aa(e,a){let t,r=a==null?void 0:a.in;return e.forEach(n=>{!r&&typeof n=="object"&&(r=K.bind(null,n));const o=W(n,r);(!t||t<o||isNaN(+o))&&(t=o)}),K(r,t||NaN)}function Ua(e,a){let t,r=a==null?void 0:a.in;return e.forEach(n=>{!r&&typeof n=="object"&&(r=K.bind(null,n));const o=W(n,r);(!t||t>o||isNaN(+o))&&(t=o)}),K(r,t||NaN)}function U(e,a,t){const[r,n]=fe(t==null?void 0:t.in,e,a);return+Ce(r)==+Ce(n)}function ce(e,a,t){const[r,n]=fe(t==null?void 0:t.in,e,a),o=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return o*12+i}function Ba(e,a,t){const[r,n]=fe(t==null?void 0:t.in,e,a),o=de(r,t),i=de(n,t),s=+o-ht(o),d=+i-ht(i);return Math.round((s-d)/Lr)}function Ze(e,a){const t=W(e,a==null?void 0:a.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function B(e,a){const t=W(e,a==null?void 0:a.in);return t.setDate(1),t.setHours(0,0,0,0),t}function et(e,a){var s,d,c,u;const t=Ar(),r=(a==null?void 0:a.weekStartsOn)??((d=(s=a==null?void 0:a.locale)==null?void 0:s.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((u=(c=t.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,n=W(e,a==null?void 0:a.in),o=n.getDay(),i=(o<r?-7:0)+6-(o-r);return n.setDate(n.getDate()+i),n.setHours(23,59,59,999),n}function Lt(e,a){return et(e,{...a,weekStartsOn:1})}function za(e,a){const t=W(e,a==null?void 0:a.in),r=t.getFullYear(),n=t.getMonth(),o=K(t,0);return o.setFullYear(r,n+1,0),o.setHours(0,0,0,0),o.getDate()}function Ya(e){return Math.trunc(+W(e)/1e3)}function $a(e,a){const t=W(e,a==null?void 0:a.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),W(t,a==null?void 0:a.in)}function Ha(e,a){const t=W(e,a==null?void 0:a.in);return Ba($a(t,a),B(t,a),a)+1}function Ge(e,a){return+W(e)>+W(a)}function At(e,a){return+W(e)<+W(a)}function tt(e,a,t){const[r,n]=fe(t==null?void 0:t.in,e,a);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Ga(e,a,t){const[r,n]=fe(t==null?void 0:t.in,e,a);return r.getFullYear()===n.getFullYear()}function Fe(e,a,t){return L(e,-a,t)}function We(e,a,t){const r=W(e,t==null?void 0:t.in),n=r.getFullYear(),o=r.getDate(),i=K(e,0);i.setFullYear(n,a,15),i.setHours(0,0,0,0);const s=za(i);return r.setMonth(a,Math.min(o,s)),r}function Ct(e,a,t){const r=W(e,t==null?void 0:t.in);return isNaN(+r)?K(e,NaN):(r.setFullYear(a),r)}var rt="Radio",[Va,Ut]=Se(rt),[qa,Ka]=Va(rt),Bt=x.forwardRef((e,a)=>{const{__scopeRadio:t,name:r,checked:n=!1,required:o,disabled:i,value:s="on",onCheck:d,form:c,...u}=e,[m,h]=x.useState(null),v=ue(a,y=>h(y)),f=x.useRef(!1),p=m?c||!!m.closest("form"):!0;return l.jsxs(qa,{scope:t,checked:n,disabled:i,children:[l.jsx(ae.button,{type:"button",role:"radio","aria-checked":n,"data-state":Ht(n),"data-disabled":i?"":void 0,disabled:i,value:s,...u,ref:v,onClick:re(e.onClick,y=>{n||d==null||d(),p&&(f.current=y.isPropagationStopped(),f.current||y.stopPropagation())})}),p&&l.jsx($t,{control:m,bubbles:!f.current,name:r,value:s,checked:n,required:o,disabled:i,form:c,style:{transform:"translateX(-100%)"}})]})});Bt.displayName=rt;var zt="RadioIndicator",Yt=x.forwardRef((e,a)=>{const{__scopeRadio:t,forceMount:r,...n}=e,o=Ka(zt,t);return l.jsx(qe,{present:r||o.checked,children:l.jsx(ae.span,{"data-state":Ht(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:a})})});Yt.displayName=zt;var Xa="RadioBubbleInput",$t=x.forwardRef(({__scopeRadio:e,control:a,checked:t,bubbles:r=!0,...n},o)=>{const i=x.useRef(null),s=ue(i,o),d=Wr(t),c=Fr(a);return x.useEffect(()=>{const u=i.current;if(!u)return;const m=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==t&&v){const f=new Event("click",{bubbles:r});v.call(u,t),u.dispatchEvent(f)}},[d,t,r]),l.jsx(ae.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...n,tabIndex:-1,ref:s,style:{...n.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});$t.displayName=Xa;function Ht(e){return e?"checked":"unchecked"}var Ja=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ke="RadioGroup",[Qa,Ni]=Se(ke,[Dt,Ut]),Gt=Dt(),Vt=Ut(),[Za,en]=Qa(ke),qt=x.forwardRef((e,a)=>{const{__scopeRadioGroup:t,name:r,defaultValue:n,value:o,required:i=!1,disabled:s=!1,orientation:d,dir:c,loop:u=!0,onValueChange:m,...h}=e,v=Gt(t),f=Dr(c),[p,y]=St({prop:o,defaultProp:n??null,onChange:m,caller:ke});return l.jsx(Za,{scope:t,name:r,required:i,disabled:s,value:p,onValueChange:y,children:l.jsx(kr,{asChild:!0,...v,orientation:d,dir:f,loop:u,children:l.jsx(ae.div,{role:"radiogroup","aria-required":i,"aria-orientation":d,"data-disabled":s?"":void 0,dir:f,...h,ref:a})})})});qt.displayName=ke;var Kt="RadioGroupItem",Xt=x.forwardRef((e,a)=>{const{__scopeRadioGroup:t,disabled:r,...n}=e,o=en(Kt,t),i=o.disabled||r,s=Gt(t),d=Vt(t),c=x.useRef(null),u=ue(a,c),m=o.value===n.value,h=x.useRef(!1);return x.useEffect(()=>{const v=p=>{Ja.includes(p.key)&&(h.current=!0)},f=()=>h.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",f),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",f)}},[]),l.jsx(Or,{asChild:!0,...s,focusable:!i,active:m,children:l.jsx(Bt,{disabled:i,required:o.required,checked:m,...d,...n,name:o.name,ref:u,onCheck:()=>o.onValueChange(n.value),onKeyDown:re(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:re(n.onFocus,()=>{var v;h.current&&((v=c.current)==null||v.click())})})})});Xt.displayName=Kt;var tn="RadioGroupIndicator",Jt=x.forwardRef((e,a)=>{const{__scopeRadioGroup:t,...r}=e,n=Vt(t);return l.jsx(Yt,{...n,...r,ref:a})});Jt.displayName=tn;var rn=qt,an=Xt,nn=Jt;function on({className:e,...a}){return l.jsx(rn,{"data-slot":"radio-group",className:G("grid gap-3",e),...a})}function sn({className:e,...a}){return l.jsx(an,{"data-slot":"radio-group-item",className:G("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:l.jsx(nn,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:l.jsx(na,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var C=function(){return C=Object.assign||function(a){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a},C.apply(this,arguments)};function ln(e,a){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&a.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(t[r[n]]=e[r[n]]);return t}function Qt(e,a,t){for(var r=0,n=a.length,o;r<n;r++)(o||!(r in a))&&(o||(o=Array.prototype.slice.call(a,0,r)),o[r]=a[r]);return e.concat(o||Array.prototype.slice.call(a))}function ve(e){return e.mode==="multiple"}function he(e){return e.mode==="range"}function Oe(e){return e.mode==="single"}var dn={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function cn(e,a){return ne(e,"LLLL y",a)}function un(e,a){return ne(e,"d",a)}function fn(e,a){return ne(e,"LLLL",a)}function vn(e){return"".concat(e)}function hn(e,a){return ne(e,"cccccc",a)}function pn(e,a){return ne(e,"yyyy",a)}var mn=Object.freeze({__proto__:null,formatCaption:cn,formatDay:un,formatMonthCaption:fn,formatWeekNumber:vn,formatWeekdayName:hn,formatYearCaption:pn}),yn=function(e,a,t){return ne(e,"do MMMM (EEEE)",t)},gn=function(){return"Month: "},xn=function(){return"Go to next month"},bn=function(){return"Go to previous month"},_n=function(e,a){return ne(e,"cccc",a)},wn=function(e){return"Week n. ".concat(e)},Cn=function(){return"Year: "},Nn=Object.freeze({__proto__:null,labelDay:yn,labelMonthDropdown:gn,labelNext:xn,labelPrevious:bn,labelWeekNumber:wn,labelWeekday:_n,labelYearDropdown:Cn});function Pn(){var e="buttons",a=dn,t=Ur,r={},n={},o=1,i={},s=new Date;return{captionLayout:e,classNames:a,formatters:mn,labels:Nn,locale:t,modifiersClassNames:r,modifiers:n,numberOfMonths:o,styles:i,today:s,mode:"default"}}function jn(e){var a=e.fromYear,t=e.toYear,r=e.fromMonth,n=e.toMonth,o=e.fromDate,i=e.toDate;return r?o=B(r):a&&(o=new Date(a,0,1)),n?i=Ze(n):t&&(i=new Date(t,11,31)),{fromDate:o?Ce(o):void 0,toDate:i?Ce(i):void 0}}var Zt=x.createContext(void 0);function Mn(e){var a,t=e.initialProps,r=Pn(),n=jn(t),o=n.fromDate,i=n.toDate,s=(a=t.captionLayout)!==null&&a!==void 0?a:r.captionLayout;s!=="buttons"&&(!o||!i)&&(s="buttons");var d;(Oe(t)||ve(t)||he(t))&&(d=t.onSelect);var c=C(C(C({},r),t),{captionLayout:s,classNames:C(C({},r.classNames),t.classNames),components:C({},t.components),formatters:C(C({},r.formatters),t.formatters),fromDate:o,labels:C(C({},r.labels),t.labels),mode:t.mode||r.mode,modifiers:C(C({},r.modifiers),t.modifiers),modifiersClassNames:C(C({},r.modifiersClassNames),t.modifiersClassNames),onSelect:d,styles:C(C({},r.styles),t.styles),toDate:i});return l.jsx(Zt.Provider,{value:c,children:e.children})}function E(){var e=x.useContext(Zt);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function er(e){var a=E(),t=a.locale,r=a.classNames,n=a.styles,o=a.formatters.formatCaption;return l.jsx("div",{className:r.caption_label,style:n.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:t})})}function Sn(e){return l.jsx("svg",C({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function tr(e){var a,t,r=e.onChange,n=e.value,o=e.children,i=e.caption,s=e.className,d=e.style,c=E(),u=(t=(a=c.components)===null||a===void 0?void 0:a.IconDropdown)!==null&&t!==void 0?t:Sn;return l.jsxs("div",{className:s,style:d,children:[l.jsx("span",{className:c.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:n,onChange:r,children:o}),l.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[i,l.jsx(u,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function Dn(e){var a,t=E(),r=t.fromDate,n=t.toDate,o=t.styles,i=t.locale,s=t.formatters.formatMonthCaption,d=t.classNames,c=t.components,u=t.labels.labelMonthDropdown;if(!r)return l.jsx(l.Fragment,{});if(!n)return l.jsx(l.Fragment,{});var m=[];if(Ga(r,n))for(var h=B(r),v=r.getMonth();v<=n.getMonth();v++)m.push(We(h,v));else for(var h=B(new Date),v=0;v<=11;v++)m.push(We(h,v));var f=function(y){var g=Number(y.target.value),w=We(B(e.displayMonth),g);e.onChange(w)},p=(a=c==null?void 0:c.Dropdown)!==null&&a!==void 0?a:tr;return l.jsx(p,{name:"months","aria-label":u(),className:d.dropdown_month,style:o.dropdown_month,onChange:f,value:e.displayMonth.getMonth(),caption:s(e.displayMonth,{locale:i}),children:m.map(function(y){return l.jsx("option",{value:y.getMonth(),children:s(y,{locale:i})},y.getMonth())})})}function kn(e){var a,t=e.displayMonth,r=E(),n=r.fromDate,o=r.toDate,i=r.locale,s=r.styles,d=r.classNames,c=r.components,u=r.formatters.formatYearCaption,m=r.labels.labelYearDropdown,h=[];if(!n)return l.jsx(l.Fragment,{});if(!o)return l.jsx(l.Fragment,{});for(var v=n.getFullYear(),f=o.getFullYear(),p=v;p<=f;p++)h.push(Ct(Br(new Date),p));var y=function(w){var N=Ct(B(t),Number(w.target.value));e.onChange(N)},g=(a=c==null?void 0:c.Dropdown)!==null&&a!==void 0?a:tr;return l.jsx(g,{name:"years","aria-label":m(),className:d.dropdown_year,style:s.dropdown_year,onChange:y,value:t.getFullYear(),caption:u(t,{locale:i}),children:h.map(function(w){return l.jsx("option",{value:w.getFullYear(),children:u(w,{locale:i})},w.getFullYear())})})}function On(e,a){var t=x.useState(e),r=t[0],n=t[1],o=a===void 0?r:a;return[o,n]}function Rn(e){var a=e.month,t=e.defaultMonth,r=e.today,n=a||t||r||new Date,o=e.toDate,i=e.fromDate,s=e.numberOfMonths,d=s===void 0?1:s;if(o&&ce(o,n)<0){var c=-1*(d-1);n=V(o,c)}return i&&ce(n,i)<0&&(n=i),B(n)}function En(){var e=E(),a=Rn(e),t=On(a,e.month),r=t[0],n=t[1],o=function(i){var s;if(!e.disableNavigation){var d=B(i);n(d),(s=e.onMonthChange)===null||s===void 0||s.call(e,d)}};return[r,o]}function In(e,a){for(var t=a.reverseMonths,r=a.numberOfMonths,n=B(e),o=B(V(n,r)),i=ce(o,n),s=[],d=0;d<i;d++){var c=V(n,d);s.push(c)}return t&&(s=s.reverse()),s}function Tn(e,a){if(!a.disableNavigation){var t=a.toDate,r=a.pagedNavigation,n=a.numberOfMonths,o=n===void 0?1:n,i=r?o:1,s=B(e);if(!t)return V(s,i);var d=ce(t,e);if(!(d<o))return V(s,i)}}function Fn(e,a){if(!a.disableNavigation){var t=a.fromDate,r=a.pagedNavigation,n=a.numberOfMonths,o=n===void 0?1:n,i=r?o:1,s=B(e);if(!t)return V(s,-i);var d=ce(s,t);if(!(d<=0))return V(s,-i)}}var rr=x.createContext(void 0);function Wn(e){var a=E(),t=En(),r=t[0],n=t[1],o=In(r,a),i=Tn(r,a),s=Fn(r,a),d=function(m){return o.some(function(h){return tt(m,h)})},c=function(m,h){d(m)||(h&&At(m,h)?n(V(m,1+a.numberOfMonths*-1)):n(m))},u={currentMonth:r,displayMonths:o,goToMonth:n,goToDate:c,previousMonth:s,nextMonth:i,isDateDisplayed:d};return l.jsx(rr.Provider,{value:u,children:e.children})}function pe(){var e=x.useContext(rr);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Nt(e){var a,t=E(),r=t.classNames,n=t.styles,o=t.components,i=pe().goToMonth,s=function(u){i(V(u,e.displayIndex?-e.displayIndex:0))},d=(a=o==null?void 0:o.CaptionLabel)!==null&&a!==void 0?a:er,c=l.jsx(d,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:r.caption_dropdowns,style:n.caption_dropdowns,children:[l.jsx("div",{className:r.vhidden,children:c}),l.jsx(Dn,{onChange:s,displayMonth:e.displayMonth}),l.jsx(kn,{onChange:s,displayMonth:e.displayMonth})]})}function Ln(e){return l.jsx("svg",C({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function An(e){return l.jsx("svg",C({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var je=x.forwardRef(function(e,a){var t=E(),r=t.classNames,n=t.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var i=o.join(" "),s=C(C({},n.button_reset),n.button);return e.style&&Object.assign(s,e.style),l.jsx("button",C({},e,{ref:a,type:"button",className:i,style:s}))});function Un(e){var a,t,r=E(),n=r.dir,o=r.locale,i=r.classNames,s=r.styles,d=r.labels,c=d.labelPrevious,u=d.labelNext,m=r.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var h=c(e.previousMonth,{locale:o}),v=[i.nav_button,i.nav_button_previous].join(" "),f=u(e.nextMonth,{locale:o}),p=[i.nav_button,i.nav_button_next].join(" "),y=(a=m==null?void 0:m.IconRight)!==null&&a!==void 0?a:An,g=(t=m==null?void 0:m.IconLeft)!==null&&t!==void 0?t:Ln;return l.jsxs("div",{className:i.nav,style:s.nav,children:[!e.hidePrevious&&l.jsx(je,{name:"previous-month","aria-label":h,className:v,style:s.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:n==="rtl"?l.jsx(y,{className:i.nav_icon,style:s.nav_icon}):l.jsx(g,{className:i.nav_icon,style:s.nav_icon})}),!e.hideNext&&l.jsx(je,{name:"next-month","aria-label":f,className:p,style:s.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:n==="rtl"?l.jsx(g,{className:i.nav_icon,style:s.nav_icon}):l.jsx(y,{className:i.nav_icon,style:s.nav_icon})})]})}function Pt(e){var a=E().numberOfMonths,t=pe(),r=t.previousMonth,n=t.nextMonth,o=t.goToMonth,i=t.displayMonths,s=i.findIndex(function(f){return tt(e.displayMonth,f)}),d=s===0,c=s===i.length-1,u=a>1&&(d||!c),m=a>1&&(c||!d),h=function(){r&&o(r)},v=function(){n&&o(n)};return l.jsx(Un,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:m,nextMonth:n,previousMonth:r,onPreviousClick:h,onNextClick:v})}function Bn(e){var a,t=E(),r=t.classNames,n=t.disableNavigation,o=t.styles,i=t.captionLayout,s=t.components,d=(a=s==null?void 0:s.CaptionLabel)!==null&&a!==void 0?a:er,c;return n?c=l.jsx(d,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?c=l.jsx(Nt,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?c=l.jsxs(l.Fragment,{children:[l.jsx(Nt,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(Pt,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):c=l.jsxs(l.Fragment,{children:[l.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(Pt,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:r.caption,style:o.caption,children:c})}function zn(e){var a=E(),t=a.footer,r=a.styles,n=a.classNames.tfoot;return t?l.jsx("tfoot",{className:n,style:r.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:t})})}):l.jsx(l.Fragment,{})}function Yn(e,a,t){for(var r=t?Ke(new Date):de(new Date,{locale:e,weekStartsOn:a}),n=[],o=0;o<7;o++){var i=L(r,o);n.push(i)}return n}function $n(){var e=E(),a=e.classNames,t=e.styles,r=e.showWeekNumber,n=e.locale,o=e.weekStartsOn,i=e.ISOWeek,s=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,c=Yn(n,o,i);return l.jsxs("tr",{style:t.head_row,className:a.head_row,children:[r&&l.jsx("td",{style:t.head_cell,className:a.head_cell}),c.map(function(u,m){return l.jsx("th",{scope:"col",className:a.head_cell,style:t.head_cell,"aria-label":d(u,{locale:n}),children:s(u,{locale:n})},m)})]})}function Hn(){var e,a=E(),t=a.classNames,r=a.styles,n=a.components,o=(e=n==null?void 0:n.HeadRow)!==null&&e!==void 0?e:$n;return l.jsx("thead",{style:r.head,className:t.head,children:l.jsx(o,{})})}function Gn(e){var a=E(),t=a.locale,r=a.formatters.formatDay;return l.jsx(l.Fragment,{children:r(e.date,{locale:t})})}var at=x.createContext(void 0);function Vn(e){if(!ve(e.initialProps)){var a={selected:void 0,modifiers:{disabled:[]}};return l.jsx(at.Provider,{value:a,children:e.children})}return l.jsx(qn,{initialProps:e.initialProps,children:e.children})}function qn(e){var a=e.initialProps,t=e.children,r=a.selected,n=a.min,o=a.max,i=function(c,u,m){var h,v;(h=a.onDayClick)===null||h===void 0||h.call(a,c,u,m);var f=!!(u.selected&&n&&(r==null?void 0:r.length)===n);if(!f){var p=!!(!u.selected&&o&&(r==null?void 0:r.length)===o);if(!p){var y=r?Qt([],r):[];if(u.selected){var g=y.findIndex(function(w){return U(c,w)});y.splice(g,1)}else y.push(c);(v=a.onSelect)===null||v===void 0||v.call(a,y,c,u,m)}}},s={disabled:[]};r&&s.disabled.push(function(c){var u=o&&r.length>o-1,m=r.some(function(h){return U(h,c)});return!!(u&&!m)});var d={selected:r,onDayClick:i,modifiers:s};return l.jsx(at.Provider,{value:d,children:t})}function nt(){var e=x.useContext(at);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Kn(e,a){var t=a||{},r=t.from,n=t.to;return r&&n?U(n,e)&&U(r,e)?void 0:U(n,e)?{from:n,to:void 0}:U(r,e)?void 0:Ge(r,e)?{from:e,to:n}:{from:r,to:e}:n?Ge(e,n)?{from:n,to:e}:{from:e,to:n}:r?At(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var ot=x.createContext(void 0);function Xn(e){if(!he(e.initialProps)){var a={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(ot.Provider,{value:a,children:e.children})}return l.jsx(Jn,{initialProps:e.initialProps,children:e.children})}function Jn(e){var a=e.initialProps,t=e.children,r=a.selected,n=r||{},o=n.from,i=n.to,s=a.min,d=a.max,c=function(v,f,p){var y,g;(y=a.onDayClick)===null||y===void 0||y.call(a,v,f,p);var w=Kn(v,r);(g=a.onSelect)===null||g===void 0||g.call(a,w,v,f,p)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],i?(u.range_end=[i],U(o,i)||(u.range_middle=[{after:o,before:i}])):u.range_end=[o]):i&&(u.range_start=[i],u.range_end=[i]),s&&(o&&!i&&u.disabled.push({after:Fe(o,s-1),before:L(o,s-1)}),o&&i&&u.disabled.push({after:o,before:L(o,s-1)}),!o&&i&&u.disabled.push({after:Fe(i,s-1),before:L(i,s-1)})),d){if(o&&!i&&(u.disabled.push({before:L(o,-d+1)}),u.disabled.push({after:L(o,d-1)})),o&&i){var m=ee(i,o)+1,h=d-m;u.disabled.push({before:Fe(o,h)}),u.disabled.push({after:L(i,h)})}!o&&i&&(u.disabled.push({before:L(i,-d+1)}),u.disabled.push({after:L(i,d-1)}))}return l.jsx(ot.Provider,{value:{selected:r,onDayClick:c,modifiers:u},children:t})}function it(){var e=x.useContext(ot);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function we(e){return Array.isArray(e)?Qt([],e):e!==void 0?[e]:[]}function Qn(e){var a={};return Object.entries(e).forEach(function(t){var r=t[0],n=t[1];a[r]=we(n)}),a}var q;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(q||(q={}));var Zn=q.Selected,Z=q.Disabled,eo=q.Hidden,to=q.Today,Le=q.RangeEnd,Ae=q.RangeMiddle,Ue=q.RangeStart,ro=q.Outside;function ao(e,a,t){var r,n=(r={},r[Zn]=we(e.selected),r[Z]=we(e.disabled),r[eo]=we(e.hidden),r[to]=[e.today],r[Le]=[],r[Ae]=[],r[Ue]=[],r[ro]=[],r);return e.fromDate&&n[Z].push({before:e.fromDate}),e.toDate&&n[Z].push({after:e.toDate}),ve(e)?n[Z]=n[Z].concat(a.modifiers[Z]):he(e)&&(n[Z]=n[Z].concat(t.modifiers[Z]),n[Ue]=t.modifiers[Ue],n[Ae]=t.modifiers[Ae],n[Le]=t.modifiers[Le]),n}var ar=x.createContext(void 0);function no(e){var a=E(),t=nt(),r=it(),n=ao(a,t,r),o=Qn(a.modifiers),i=C(C({},n),o);return l.jsx(ar.Provider,{value:i,children:e.children})}function nr(){var e=x.useContext(ar);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function oo(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function io(e){return!!(e&&typeof e=="object"&&"from"in e)}function so(e){return!!(e&&typeof e=="object"&&"after"in e)}function lo(e){return!!(e&&typeof e=="object"&&"before"in e)}function co(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function uo(e,a){var t,r=a.from,n=a.to;if(r&&n){var o=ee(n,r)<0;o&&(t=[n,r],r=t[0],n=t[1]);var i=ee(e,r)>=0&&ee(n,e)>=0;return i}return n?U(n,e):r?U(r,e):!1}function fo(e){return Rt(e)}function vo(e){return Array.isArray(e)&&e.every(Rt)}function ho(e,a){return a.some(function(t){if(typeof t=="boolean")return t;if(fo(t))return U(e,t);if(vo(t))return t.includes(e);if(io(t))return uo(e,t);if(co(t))return t.dayOfWeek.includes(e.getDay());if(oo(t)){var r=ee(t.before,e),n=ee(t.after,e),o=r>0,i=n<0,s=Ge(t.before,t.after);return s?i&&o:o||i}return so(t)?ee(e,t.after)>0:lo(t)?ee(t.before,e)>0:typeof t=="function"?t(e):!1})}function st(e,a,t){var r=Object.keys(a).reduce(function(o,i){var s=a[i];return ho(e,s)&&o.push(i),o},[]),n={};return r.forEach(function(o){return n[o]=!0}),t&&!tt(e,t)&&(n.outside=!0),n}function po(e,a){for(var t=B(e[0]),r=Ze(e[e.length-1]),n,o,i=t;i<=r;){var s=st(i,a),d=!s.disabled&&!s.hidden;if(!d){i=L(i,1);continue}if(s.selected)return i;s.today&&!o&&(o=i),n||(n=i),i=L(i,1)}return o||n}var mo=365;function or(e,a){var t=a.moveBy,r=a.direction,n=a.context,o=a.modifiers,i=a.retry,s=i===void 0?{count:0,lastFocused:e}:i,d=n.weekStartsOn,c=n.fromDate,u=n.toDate,m=n.locale,h={day:L,week:He,month:V,year:La,startOfWeek:function(y){return n.ISOWeek?Ke(y):de(y,{locale:m,weekStartsOn:d})},endOfWeek:function(y){return n.ISOWeek?Lt(y):et(y,{locale:m,weekStartsOn:d})}},v=h[t](e,r==="after"?1:-1);r==="before"&&c?v=Aa([c,v]):r==="after"&&u&&(v=Ua([u,v]));var f=!0;if(o){var p=st(v,o);f=!p.disabled&&!p.hidden}return f?v:s.count>mo?s.lastFocused:or(v,{moveBy:t,direction:r,context:n,modifiers:o,retry:C(C({},s),{count:s.count+1})})}var ir=x.createContext(void 0);function yo(e){var a=pe(),t=nr(),r=x.useState(),n=r[0],o=r[1],i=x.useState(),s=i[0],d=i[1],c=po(a.displayMonths,t),u=n??(s&&a.isDateDisplayed(s))?s:c,m=function(){d(n),o(void 0)},h=function(y){o(y)},v=E(),f=function(y,g){if(n){var w=or(n,{moveBy:y,direction:g,context:v,modifiers:t});U(n,w)||(a.goToDate(w,n),h(w))}},p={focusedDay:n,focusTarget:u,blur:m,focus:h,focusDayAfter:function(){return f("day","after")},focusDayBefore:function(){return f("day","before")},focusWeekAfter:function(){return f("week","after")},focusWeekBefore:function(){return f("week","before")},focusMonthBefore:function(){return f("month","before")},focusMonthAfter:function(){return f("month","after")},focusYearBefore:function(){return f("year","before")},focusYearAfter:function(){return f("year","after")},focusStartOfWeek:function(){return f("startOfWeek","before")},focusEndOfWeek:function(){return f("endOfWeek","after")}};return l.jsx(ir.Provider,{value:p,children:e.children})}function lt(){var e=x.useContext(ir);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function go(e,a){var t=nr(),r=st(e,t,a);return r}var dt=x.createContext(void 0);function xo(e){if(!Oe(e.initialProps)){var a={selected:void 0};return l.jsx(dt.Provider,{value:a,children:e.children})}return l.jsx(bo,{initialProps:e.initialProps,children:e.children})}function bo(e){var a=e.initialProps,t=e.children,r=function(o,i,s){var d,c,u;if((d=a.onDayClick)===null||d===void 0||d.call(a,o,i,s),i.selected&&!a.required){(c=a.onSelect)===null||c===void 0||c.call(a,void 0,o,i,s);return}(u=a.onSelect)===null||u===void 0||u.call(a,o,o,i,s)},n={selected:a.selected,onDayClick:r};return l.jsx(dt.Provider,{value:n,children:t})}function sr(){var e=x.useContext(dt);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function _o(e,a){var t=E(),r=sr(),n=nt(),o=it(),i=lt(),s=i.focusDayAfter,d=i.focusDayBefore,c=i.focusWeekAfter,u=i.focusWeekBefore,m=i.blur,h=i.focus,v=i.focusMonthBefore,f=i.focusMonthAfter,p=i.focusYearBefore,y=i.focusYearAfter,g=i.focusStartOfWeek,w=i.focusEndOfWeek,N=function(_){var b,k,j,J;Oe(t)?(b=r.onDayClick)===null||b===void 0||b.call(r,e,a,_):ve(t)?(k=n.onDayClick)===null||k===void 0||k.call(n,e,a,_):he(t)?(j=o.onDayClick)===null||j===void 0||j.call(o,e,a,_):(J=t.onDayClick)===null||J===void 0||J.call(t,e,a,_)},P=function(_){var b;h(e),(b=t.onDayFocus)===null||b===void 0||b.call(t,e,a,_)},T=function(_){var b;m(),(b=t.onDayBlur)===null||b===void 0||b.call(t,e,a,_)},S=function(_){var b;(b=t.onDayMouseEnter)===null||b===void 0||b.call(t,e,a,_)},D=function(_){var b;(b=t.onDayMouseLeave)===null||b===void 0||b.call(t,e,a,_)},A=function(_){var b;(b=t.onDayPointerEnter)===null||b===void 0||b.call(t,e,a,_)},F=function(_){var b;(b=t.onDayPointerLeave)===null||b===void 0||b.call(t,e,a,_)},te=function(_){var b;(b=t.onDayTouchCancel)===null||b===void 0||b.call(t,e,a,_)},$=function(_){var b;(b=t.onDayTouchEnd)===null||b===void 0||b.call(t,e,a,_)},X=function(_){var b;(b=t.onDayTouchMove)===null||b===void 0||b.call(t,e,a,_)},se=function(_){var b;(b=t.onDayTouchStart)===null||b===void 0||b.call(t,e,a,_)},R=function(_){var b;(b=t.onDayKeyUp)===null||b===void 0||b.call(t,e,a,_)},I=function(_){var b;switch(_.key){case"ArrowLeft":_.preventDefault(),_.stopPropagation(),t.dir==="rtl"?s():d();break;case"ArrowRight":_.preventDefault(),_.stopPropagation(),t.dir==="rtl"?d():s();break;case"ArrowDown":_.preventDefault(),_.stopPropagation(),c();break;case"ArrowUp":_.preventDefault(),_.stopPropagation(),u();break;case"PageUp":_.preventDefault(),_.stopPropagation(),_.shiftKey?p():v();break;case"PageDown":_.preventDefault(),_.stopPropagation(),_.shiftKey?y():f();break;case"Home":_.preventDefault(),_.stopPropagation(),g();break;case"End":_.preventDefault(),_.stopPropagation(),w();break}(b=t.onDayKeyDown)===null||b===void 0||b.call(t,e,a,_)},M={onClick:N,onFocus:P,onBlur:T,onKeyDown:I,onKeyUp:R,onMouseEnter:S,onMouseLeave:D,onPointerEnter:A,onPointerLeave:F,onTouchCancel:te,onTouchEnd:$,onTouchMove:X,onTouchStart:se};return M}function wo(){var e=E(),a=sr(),t=nt(),r=it(),n=Oe(e)?a.selected:ve(e)?t.selected:he(e)?r.selected:void 0;return n}function Co(e){return Object.values(q).includes(e)}function No(e,a){var t=[e.classNames.day];return Object.keys(a).forEach(function(r){var n=e.modifiersClassNames[r];if(n)t.push(n);else if(Co(r)){var o=e.classNames["day_".concat(r)];o&&t.push(o)}}),t}function Po(e,a){var t=C({},e.styles.day);return Object.keys(a).forEach(function(r){var n;t=C(C({},t),(n=e.modifiersStyles)===null||n===void 0?void 0:n[r])}),t}function jo(e,a,t){var r,n,o,i=E(),s=lt(),d=go(e,a),c=_o(e,d),u=wo(),m=!!(i.onDayClick||i.mode!=="default");x.useEffect(function(){var S;d.outside||s.focusedDay&&m&&U(s.focusedDay,e)&&((S=t.current)===null||S===void 0||S.focus())},[s.focusedDay,e,t,m,d.outside]);var h=No(i,d).join(" "),v=Po(i,d),f=!!(d.outside&&!i.showOutsideDays||d.hidden),p=(o=(n=i.components)===null||n===void 0?void 0:n.DayContent)!==null&&o!==void 0?o:Gn,y=l.jsx(p,{date:e,displayMonth:a,activeModifiers:d}),g={style:v,className:h,children:y,role:"gridcell"},w=s.focusTarget&&U(s.focusTarget,e)&&!d.outside,N=s.focusedDay&&U(s.focusedDay,e),P=C(C(C({},g),(r={disabled:d.disabled,role:"gridcell"},r["aria-selected"]=d.selected,r.tabIndex=N||w?0:-1,r)),c),T={isButton:m,isHidden:f,activeModifiers:d,selectedDays:u,buttonProps:P,divProps:g};return T}function Mo(e){var a=x.useRef(null),t=jo(e.date,e.displayMonth,a);return t.isHidden?l.jsx("div",{role:"gridcell"}):t.isButton?l.jsx(je,C({name:"day",ref:a},t.buttonProps)):l.jsx("div",C({},t.divProps))}function So(e){var a=e.number,t=e.dates,r=E(),n=r.onWeekNumberClick,o=r.styles,i=r.classNames,s=r.locale,d=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,u=c(Number(a),{locale:s});if(!n)return l.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:u});var m=d(Number(a),{locale:s}),h=function(v){n(a,t,v)};return l.jsx(je,{name:"week-number","aria-label":m,className:i.weeknumber,style:o.weeknumber,onClick:h,children:u})}function Do(e){var a,t,r=E(),n=r.styles,o=r.classNames,i=r.showWeekNumber,s=r.components,d=(a=s==null?void 0:s.Day)!==null&&a!==void 0?a:Mo,c=(t=s==null?void 0:s.WeekNumber)!==null&&t!==void 0?t:So,u;return i&&(u=l.jsx("td",{className:o.cell,style:n.cell,children:l.jsx(c,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:o.row,style:n.row,children:[u,e.dates.map(function(m){return l.jsx("td",{className:o.cell,style:n.cell,role:"presentation",children:l.jsx(d,{displayMonth:e.displayMonth,date:m})},Ya(m))})]})}function jt(e,a,t){for(var r=t!=null&&t.ISOWeek?Lt(a):et(a,t),n=t!=null&&t.ISOWeek?Ke(e):de(e,t),o=ee(r,n),i=[],s=0;s<=o;s++)i.push(L(n,s));var d=i.reduce(function(c,u){var m=t!=null&&t.ISOWeek?zr(u):Yr(u,t),h=c.find(function(v){return v.weekNumber===m});return h?(h.dates.push(u),c):(c.push({weekNumber:m,dates:[u]}),c)},[]);return d}function ko(e,a){var t=jt(B(e),Ze(e),a);if(a!=null&&a.useFixedWeeks){var r=Ha(e,a);if(r<6){var n=t[t.length-1],o=n.dates[n.dates.length-1],i=He(o,6-r),s=jt(He(o,1),i,a);t.push.apply(t,s)}}return t}function Oo(e){var a,t,r,n=E(),o=n.locale,i=n.classNames,s=n.styles,d=n.hideHead,c=n.fixedWeeks,u=n.components,m=n.weekStartsOn,h=n.firstWeekContainsDate,v=n.ISOWeek,f=ko(e.displayMonth,{useFixedWeeks:!!c,ISOWeek:v,locale:o,weekStartsOn:m,firstWeekContainsDate:h}),p=(a=u==null?void 0:u.Head)!==null&&a!==void 0?a:Hn,y=(t=u==null?void 0:u.Row)!==null&&t!==void 0?t:Do,g=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:zn;return l.jsxs("table",{id:e.id,className:i.table,style:s.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&l.jsx(p,{}),l.jsx("tbody",{className:i.tbody,style:s.tbody,children:f.map(function(w){return l.jsx(y,{displayMonth:e.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),l.jsx(g,{displayMonth:e.displayMonth})]})}function Ro(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Eo=Ro()?x.useLayoutEffect:x.useEffect,Be=!1,Io=0;function Mt(){return"react-day-picker-".concat(++Io)}function To(e){var a,t=e??(Be?Mt():null),r=x.useState(t),n=r[0],o=r[1];return Eo(function(){n===null&&o(Mt())},[]),x.useEffect(function(){Be===!1&&(Be=!0)},[]),(a=e??n)!==null&&a!==void 0?a:void 0}function Fo(e){var a,t,r=E(),n=r.dir,o=r.classNames,i=r.styles,s=r.components,d=pe().displayMonths,c=To(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,m=[o.month],h=i.month,v=e.displayIndex===0,f=e.displayIndex===d.length-1,p=!v&&!f;n==="rtl"&&(a=[v,f],f=a[0],v=a[1]),v&&(m.push(o.caption_start),h=C(C({},h),i.caption_start)),f&&(m.push(o.caption_end),h=C(C({},h),i.caption_end)),p&&(m.push(o.caption_between),h=C(C({},h),i.caption_between));var y=(t=s==null?void 0:s.Caption)!==null&&t!==void 0?t:Bn;return l.jsxs("div",{className:m.join(" "),style:h,children:[l.jsx(y,{id:c,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(Oo,{id:u,"aria-labelledby":c,displayMonth:e.displayMonth})]},e.displayIndex)}function Wo(e){var a=E(),t=a.classNames,r=a.styles;return l.jsx("div",{className:t.months,style:r.months,children:e.children})}function Lo(e){var a,t,r=e.initialProps,n=E(),o=lt(),i=pe(),s=x.useState(!1),d=s[0],c=s[1];x.useEffect(function(){n.initialFocus&&o.focusTarget&&(d||(o.focus(o.focusTarget),c(!0)))},[n.initialFocus,d,o.focus,o.focusTarget,o]);var u=[n.classNames.root,n.className];n.numberOfMonths>1&&u.push(n.classNames.multiple_months),n.showWeekNumber&&u.push(n.classNames.with_weeknumber);var m=C(C({},n.styles.root),n.style),h=Object.keys(r).filter(function(f){return f.startsWith("data-")}).reduce(function(f,p){var y;return C(C({},f),(y={},y[p]=r[p],y))},{}),v=(t=(a=r.components)===null||a===void 0?void 0:a.Months)!==null&&t!==void 0?t:Wo;return l.jsx("div",C({className:u.join(" "),style:m,dir:n.dir,id:n.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:l.jsx(v,{children:i.displayMonths.map(function(f,p){return l.jsx(Fo,{displayIndex:p,displayMonth:f},p)})})}))}function Ao(e){var a=e.children,t=ln(e,["children"]);return l.jsx(Mn,{initialProps:t,children:l.jsx(Wn,{children:l.jsx(xo,{initialProps:t,children:l.jsx(Vn,{initialProps:t,children:l.jsx(Xn,{initialProps:t,children:l.jsx(no,{children:l.jsx(yo,{children:a})})})})})})})}function Uo(e){return l.jsx(Ao,C({},e,{children:l.jsx(Lo,{initialProps:e})}))}function Bo({className:e,classNames:a,showOutsideDays:t=!0,...r}){return l.jsx(Uo,{showOutsideDays:t,className:G("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:G(ft({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:G("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",r.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:G(ft({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:({className:n,...o})=>l.jsx(ta,{className:G("size-4",n),...o}),IconRight:({className:n,...o})=>l.jsx(Rr,{className:G("size-4",n),...o})},...r})}var Re="Popover",[lr,Pi]=Se(Re,[kt]),me=kt(),[zo,oe]=lr(Re),dr=e=>{const{__scopePopover:a,children:t,open:r,defaultOpen:n,onOpenChange:o,modal:i=!1}=e,s=me(a),d=x.useRef(null),[c,u]=x.useState(!1),[m,h]=St({prop:r,defaultProp:n??!1,onChange:o,caller:Re});return l.jsx(Er,{...s,children:l.jsx(zo,{scope:a,contentId:Hr(),triggerRef:d,open:m,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(v=>!v),[h]),hasCustomAnchor:c,onCustomAnchorAdd:x.useCallback(()=>u(!0),[]),onCustomAnchorRemove:x.useCallback(()=>u(!1),[]),modal:i,children:t})})};dr.displayName=Re;var cr="PopoverAnchor",Yo=x.forwardRef((e,a)=>{const{__scopePopover:t,...r}=e,n=oe(cr,t),o=me(t),{onCustomAnchorAdd:i,onCustomAnchorRemove:s}=n;return x.useEffect(()=>(i(),()=>s()),[i,s]),l.jsx(Ot,{...o,...r,ref:a})});Yo.displayName=cr;var ur="PopoverTrigger",fr=x.forwardRef((e,a)=>{const{__scopePopover:t,...r}=e,n=oe(ur,t),o=me(t),i=ue(a,n.triggerRef),s=l.jsx(ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":yr(n.open),...r,ref:i,onClick:re(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?s:l.jsx(Ot,{asChild:!0,...o,children:s})});fr.displayName=ur;var ct="PopoverPortal",[$o,Ho]=lr(ct,{forceMount:void 0}),vr=e=>{const{__scopePopover:a,forceMount:t,children:r,container:n}=e,o=oe(ct,a);return l.jsx($o,{scope:a,forceMount:t,children:l.jsx(qe,{present:t||o.open,children:l.jsx(Gr,{asChild:!0,container:n,children:r})})})};vr.displayName=ct;var le="PopoverContent",hr=x.forwardRef((e,a)=>{const t=Ho(le,e.__scopePopover),{forceMount:r=t.forceMount,...n}=e,o=oe(le,e.__scopePopover);return l.jsx(qe,{present:r||o.open,children:o.modal?l.jsx(Vo,{...n,ref:a}):l.jsx(qo,{...n,ref:a})})});hr.displayName=le;var Go=br("PopoverContent.RemoveScroll"),Vo=x.forwardRef((e,a)=>{const t=oe(le,e.__scopePopover),r=x.useRef(null),n=ue(a,r),o=x.useRef(!1);return x.useEffect(()=>{const i=r.current;if(i)return Vr(i)},[]),l.jsx(qr,{as:Go,allowPinchZoom:!0,children:l.jsx(pr,{...e,ref:n,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(e.onCloseAutoFocus,i=>{var s;i.preventDefault(),o.current||(s=t.triggerRef.current)==null||s.focus()}),onPointerDownOutside:re(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,d=s.button===0&&s.ctrlKey===!0,c=s.button===2||d;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:re(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),qo=x.forwardRef((e,a)=>{const t=oe(le,e.__scopePopover),r=x.useRef(!1),n=x.useRef(!1);return l.jsx(pr,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,s;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(s=t.triggerRef.current)==null||s.focus(),o.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:o=>{var d,c;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const i=o.target;((c=t.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&n.current&&o.preventDefault()}})}),pr=x.forwardRef((e,a)=>{const{__scopePopover:t,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:s,onPointerDownOutside:d,onFocusOutside:c,onInteractOutside:u,...m}=e,h=oe(le,t),v=me(t);return Kr(),l.jsx(Xr,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:o,children:l.jsx(Jr,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:s,onPointerDownOutside:d,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:l.jsx(Ir,{"data-state":yr(h.open),role:"dialog",id:h.contentId,...v,...m,ref:a,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),mr="PopoverClose",Ko=x.forwardRef((e,a)=>{const{__scopePopover:t,...r}=e,n=oe(mr,t);return l.jsx(ae.button,{type:"button",...r,ref:a,onClick:re(e.onClick,()=>n.onOpenChange(!1))})});Ko.displayName=mr;var Xo="PopoverArrow",Jo=x.forwardRef((e,a)=>{const{__scopePopover:t,...r}=e,n=me(t);return l.jsx(Tr,{...n,...r,ref:a})});Jo.displayName=Xo;function yr(e){return e?"open":"closed"}var Qo=dr,Zo=fr,ei=vr,ti=hr;function ri({...e}){return l.jsx(Qo,{"data-slot":"popover",...e})}function ai({...e}){return l.jsx(Zo,{"data-slot":"popover-trigger",...e})}function ni({className:e,align:a="center",sideOffset:t=4,...r}){return l.jsx(ei,{children:l.jsx(ti,{"data-slot":"popover-content",align:a,sideOffset:t,className:G("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}const oi=({component:e,formData:a,errors:t,dynamicOptions:r,loadingComponentIds:n,handleFieldChange:o,readOnly:i,isRequired:s,onPhotoUpload:d,setErrors:c})=>{var M,_;console.log(`FormField (${e.id}): typeof setErrors is`,typeof c,c);const u=a[e.id],m=t[e.id],h=e.entityName?r[e.id]||[]:e.options||[],v={id:e.id,name:e.id,onValueChange:b=>o(e.id,b),onChange:b=>o(e.id,b.target.value),onCheckedChange:b=>o(e.id,b),disabled:i,readOnly:i},f=x.useRef(null),[p,y]=x.useState(!1),[g,w]=x.useState(!1),[N,P]=x.useState(""),T=x.useCallback(async()=>{try{y(!0),P("")}catch(b){P("No se pudo acceder a la cámara. Asegúrese de permitir el acceso."),console.error("Error accessing camera:",b),y(!1)}},[]),S=x.useCallback(()=>{y(!1),P("")},[]),D=x.useCallback(async()=>{if(f.current){const b=f.current.getScreenshot();if(b){w(!0);try{const k=await d(e.id,b,"photo");o(e.id,k),S(),c(j=>{const J={...j};return delete J[e.id],J})}catch(k){console.error("Error al subir la foto:",k),c(j=>({...j,[e.id]:`Error al subir la foto: ${k instanceof Error?k.message:"Error desconocido"}`}))}finally{w(!1)}}else P("No se pudo tomar la foto. Intenta de nuevo.")}},[f,e.id,d,o,S,c]),A=x.useCallback(()=>{o(e.id,null),c(b=>{const k={...b};return delete k[e.id],k})},[e.id,o,c]),F=x.useRef(null),[te,$]=x.useState(!1),[X,se]=x.useState(!1);x.useEffect(()=>{e.type==="signature"&&u&&F.current?$(!0):e.type==="signature"&&!u&&F.current&&($(!1),F.current.clear())},[u,e.type]);const R=x.useCallback(()=>{F.current&&(F.current.clear(),$(!1),o(e.id,null),c(b=>{const k={...b};return delete k[e.id],k}))},[e.id,o,c]),I=x.useCallback(async()=>{if(F.current&&!F.current.isEmpty()){const b=F.current.getCanvas().toDataURL("image/png");se(!0);try{const k=await d(e.id,b,"signature");o(e.id,k),$(!0),c(j=>{const J={...j};return delete J[e.id],J})}catch(k){console.error("Error al subir la firma:",k),c(j=>({...j,[e.id]:`Error al subir la firma: ${k instanceof Error?k.message:"Error desconocido"}`}))}finally{se(!1)}}else c(b=>({...b,[e.id]:"Por favor, firme en el recuadro."}))},[F,e.id,d,o,c]);switch(e.type){case"text":case"number":case"email":case"phone":return l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Q,{htmlFor:e.id,children:[e.props.label,s(e)&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsx(_r,{...v,type:e.type,placeholder:e.props.placeholder,value:a[e.id]||"",onChange:v.onChange,className:t[e.id]?"border-red-500":""}),t[e.id]&&l.jsx(H,{className:"text-sm text-red-500",children:t[e.id]})]},e.id);case"textarea":return l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Q,{htmlFor:e.id,children:[e.props.label,s(e)&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsx(Cr,{...v,placeholder:e.props.placeholder,value:a[e.id]||"",onChange:v.onChange,className:t[e.id]?"border-red-500":""}),t[e.id]&&l.jsx(H,{className:"text-sm text-red-500",children:t[e.id]})]},e.id);case"date":case"time":case"datetime":return l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Q,{htmlFor:e.id,children:[e.props.label,s(e)&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsxs(ri,{children:[l.jsx(ai,{asChild:!0,children:l.jsxs(Y,{variant:"outline",className:G("w-full justify-start text-left font-normal",!a[e.id]&&"text-muted-foreground",t[e.id]&&"border-red-500"),disabled:i,children:[l.jsx(wr,{className:"mr-2 h-4 w-4"}),a[e.id]?ne(new Date(a[e.id]),e.type==="date"?"PPP":e.type==="time"?"p":"PPPp",{locale:$r}):l.jsxs("span",{children:["Selecciona ",e.type==="date"?"una fecha":e.type==="time"?"una hora":"fecha y hora"]})]})}),l.jsx(ni,{className:"w-auto p-0",children:l.jsx(Bo,{mode:"single",selected:a[e.id]?new Date(a[e.id]):void 0,onSelect:j=>o(e.id,(j==null?void 0:j.toISOString())||null),initialFocus:!0})})]}),t[e.id]&&l.jsx(H,{className:"text-sm text-red-500",children:t[e.id]})]},e.id);case"select":const b=n.has(e.id),k=t[e.id];return l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Q,{htmlFor:e.id,children:[e.props.label,s(e)&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsxs(Nr,{value:u||"",onValueChange:j=>o(e.id,j),disabled:i||b||k,children:[l.jsx(Pr,{className:k?"border-red-500":"",children:l.jsx(jr,{placeholder:e.props.placeholder||"Seleccione una opción"})}),l.jsxs(Mr,{children:[b&&l.jsx(ye,{value:"loading_placeholder",disabled:!0,children:"Cargando opciones..."}),!b&&k&&l.jsxs(ye,{value:"error_placeholder",disabled:!0,children:["Error al cargar (",t[e.id],")"]}),!b&&!k&&((M=h==null?void 0:h.filter(j=>j.value&&j.value.trim()!==""))==null?void 0:M.map(j=>l.jsx(ye,{value:j.value,children:j.label},j.value))),!b&&!k&&h.length===0&&l.jsx(ye,{value:"no_options",disabled:!0,children:"No hay opciones disponibles"})]})]}),m&&l.jsxs(ge,{variant:"destructive",children:[l.jsx(xe,{className:"h-4 w-4"}),l.jsx(H,{children:m})]})]},e.id);case"checkbox":return l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Sr,{id:e.id,checked:!!a[e.id],onCheckedChange:v.onCheckedChange,disabled:i}),l.jsxs(Q,{htmlFor:e.id,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:[e.props.label,s(e)&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t[e.id]&&l.jsx(H,{className:"text-sm text-red-500",children:t[e.id]})]},e.id);case"radio_group":return l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Q,{htmlFor:e.id,children:[e.props.label,s(e)&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),l.jsx(on,{onValueChange:v.onValueChange,value:u||"",disabled:i,className:t[e.id]?"border-red-500 p-2 rounded":"",children:(_=e.options)==null?void 0:_.map(j=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(sn,{value:j.value,id:`${e.id}-${j.value}`}),l.jsx(Q,{htmlFor:`${e.id}-${j.value}`,children:j.label})]},j.value))}),t[e.id]&&l.jsx(H,{className:"text-sm text-red-500",children:t[e.id]})]},e.id);case"photo":return l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Q,{htmlFor:e.id,children:[e.props.label,s(e)&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),u&&!p&&!g?l.jsxs("div",{className:"relative w-full min-h-48 border rounded-md overflow-hidden flex items-center justify-center bg-gray-100",children:[l.jsx("img",{src:u,alt:"Foto Capturada",className:"max-w-full max-h-full object-contain"}),!i&&l.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[l.jsxs(Y,{onClick:()=>T(),className:"flex items-center gap-1",size:"sm",disabled:g,children:[l.jsx(vt,{className:"h-4 w-4"}),"Cambiar Foto"]}),l.jsxs(Y,{onClick:A,variant:"destructive",className:"flex items-center gap-1",size:"sm",disabled:g,children:[l.jsx(pt,{className:"h-4 w-4"}),"Eliminar"]})]})]}):l.jsx("div",{className:"space-y-4",children:p?l.jsxs("div",{className:"border rounded-md overflow-hidden p-2 bg-black",children:[l.jsx(xa,{audio:!1,ref:f,screenshotFormat:"image/jpeg",width:"100%",videoConstraints:{facingMode:"environment"},className:"rounded-md w-full"}),l.jsxs("div",{className:"flex justify-between mt-2",children:[l.jsx(Y,{onClick:S,variant:"outline",disabled:g,children:"Cancelar"}),l.jsx(Y,{onClick:D,disabled:g,children:g?"Subiendo...":"Capturar y Subir"})]})]}):l.jsxs(Y,{onClick:T,disabled:i||g,className:"w-full flex items-center gap-2",children:[l.jsx(vt,{className:"h-4 w-4"}),g?"Subiendo...":"Tomar Foto"]})}),m&&l.jsxs(ge,{variant:"destructive",children:[l.jsx(xe,{className:"h-4 w-4"}),l.jsx(H,{children:m})]}),N&&l.jsxs(ge,{variant:"destructive",children:[l.jsx(xe,{className:"h-4 w-4"}),l.jsx(H,{children:N})]}),g&&l.jsx(H,{className:"text-sm text-blue-500",children:"Subiendo foto..."})]},e.id);case"signature":return l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Q,{htmlFor:e.id,children:[e.props.label,s(e)&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),u&&!X?l.jsxs("div",{className:"relative w-full min-h-36 border rounded-md overflow-hidden flex items-center justify-center bg-gray-100",children:[l.jsx("img",{src:u,alt:"Firma Capturada",className:"max-w-full max-h-full object-contain"}),!i&&l.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[l.jsxs(Y,{onClick:R,variant:"outline",className:"flex items-center gap-1",size:"sm",children:[l.jsx(ia,{className:"h-4 w-4"}),"Nueva Firma"]}),l.jsxs(Y,{onClick:()=>o(e.id,null),variant:"destructive",className:"flex items-center gap-1",size:"sm",children:[l.jsx(pt,{className:"h-4 w-4"}),"Eliminar"]})]})]}):l.jsxs("div",{className:"relative border border-dashed rounded-md bg-white",children:[l.jsx(De,{ref:F,penColor:"black",canvasProps:{width:500,height:200,className:"sigCanvas",style:{touchAction:"none",width:"100%",height:"100%"}},backgroundColor:"rgb(255,255,255)",onEnd:()=>{var j;return $(!((j=F.current)!=null&&j.isEmpty()))},clearOnResize:!1}),!i&&l.jsxs("div",{className:"flex justify-between items-center p-2 border-t",children:[l.jsx(Y,{onClick:R,variant:"outline",disabled:!te||X,children:"Limpiar"}),l.jsx(Y,{onClick:I,disabled:!te||X,children:X?"Subiendo...":"Guardar Firma"})]})]}),m&&l.jsxs(ge,{variant:"destructive",children:[l.jsx(xe,{className:"h-4 w-4"}),l.jsx(H,{children:m})]}),X&&l.jsx(H,{className:"text-sm text-blue-500",children:"Subiendo firma..."})]},e.id);default:return l.jsx("div",{className:"text-red-500",children:l.jsxs("p",{children:["Tipo de campo no soportado: ",e.type]})},e.id)}},ii=x.memo(oi),ji=({formStructure:e,initialData:a,onSubmit:t,onSave:r,allowSave:n=!1,readOnly:o=!1,showProgress:i=!1})=>{const[s,d]=x.useState(a||{}),[c,u]=x.useState({}),[m,h]=x.useState(!1),[v,f]=x.useState(!1),[p,y]=x.useState(new Set),[g,w]=x.useState(new Set),[N,P]=x.useState({}),[T,S]=x.useState(new Set),D=x.useRef(new Set),A=x.useCallback(R=>{var I;return(I=R.validation)==null?void 0:I.required},[]),F=x.useMemo(()=>{const R=e.length;if(R===0)return 0;let I=0;return e.forEach(M=>{if(!p.has(M.id)&&!g.has(M.id)){const _=s[M.id];_!=null&&_!==""&&I++}}),I/R*100},[e,s,p,g]),te=x.useCallback((R,I)=>{d(M=>({...M,[R]:I})),u(M=>{const _={...M};return delete _[R],_})},[]),$=x.useCallback(R=>{R.preventDefault(),h(!0);const I={};if(e.forEach(M=>{if(!p.has(M.id)&&!g.has(M.id)){const _=s[M.id];A(M)&&(_==null||_==="")&&(I[M.id]=`${M.props.label} es requerido.`)}}),Object.keys(I).length>0){u(I),h(!1);return}t(s),h(!1)},[s,e,A,t,p,g]),X=x.useCallback(()=>{r&&(f(!0),r(s),f(!1))},[s,r]),se=x.useCallback(async(R,I,M)=>{try{return(await ut.post(route("api.upload-image",{type:M}),{image:I,fieldId:R})).data.url}catch(_){throw console.error(`Error al subir ${M}:`,_),u(b=>({...b,[R]:`Error al subir ${M}. Intenta de nuevo.`})),_}},[]);return x.useEffect(()=>{const R=e.filter(I=>I.type==="select"&&I.entityName&&!N[I.id]&&!D.current.has(I.id));if(R.length>0){S(M=>{const _=new Set(M);return R.forEach(b=>{_.add(b.id),D.current.add(b.id)}),_});const I=R.map(async M=>{try{const _=route("form-lists.values",{entidad:M.entityName}),b=await ut.get(_);P(k=>({...k,[M.id]:b.data}))}catch(_){console.error(`Error loading options for ${M.entityName}:`,_),u(b=>({...b,[M.id]:"Error al cargar opciones."}))}finally{S(_=>{const b=new Set(_);return b.delete(M.id),b}),D.current.delete(M.id)}});Promise.all(I)}},[e,N,u]),l.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[i&&l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-sm font-medium",children:"Progreso del formulario"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(F),"%"]})]}),l.jsx(pa,{value:F,className:"w-full"})]}),l.jsxs("form",{onSubmit:$,className:"space-y-6",children:[e.map(R=>p.has(R.id)?null:(console.log(`FormRenderer (${R.id}): typeof setErrors is`,typeof u,u),l.jsx(ii,{component:R,formData:s,errors:c,dynamicOptions:N,loadingComponentIds:T,handleFieldChange:te,readOnly:o,isRequired:A,onPhotoUpload:se,setErrors:u},R.id))),!o&&l.jsxs("div",{className:"flex gap-4 pt-6",children:[n&&r&&l.jsxs(Y,{type:"button",variant:"outline",onClick:X,disabled:v,className:"flex items-center gap-2",children:[l.jsx(Qr,{className:"h-4 w-4"}),v?"Guardando...":"Guardar Borrador"]}),l.jsxs(Y,{type:"submit",disabled:m,className:"flex items-center gap-2 ml-auto",children:[l.jsx(Zr,{className:"h-4 w-4"}),m?"Enviando...":"Enviar Formulario"]})]})]})]})};export{ta as C,ji as F,xe as a};
