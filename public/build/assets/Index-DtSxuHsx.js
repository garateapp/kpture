import{q as j,r as p,j as e,$ as f,Y as l}from"./app-Be8ghtRb.js";import{H as b}from"./heading-small-pb2CvvlP.js";import{A as v}from"./app-layout-BXVEw3EX.js";import{B as c,T as g}from"./badge-DasfRpBM.js";import{B as o}from"./button-D1N9RrD0.js";import{I as N}from"./input-Co6CCOt6.js";import{T as y,a as w,b as m,c as t,d as T,e as r}from"./table-Dho4hEYK.js";import"./index-wGWY3QV4.js";import"./index-BQmSkEsW.js";import"./index-CCmhZsir.js";import"./index-Bvxqhwof.js";import"./app-logo-icon-Dxd9VO9-.js";const C=[{title:"Gestión de Formularios",href:"/formularios"}];function D({formularios:a}){const{flash:n}=j().props,[d,h]=p.useState(""),x=a.data.filter(s=>{var i;return s.nombre.toLowerCase().includes(d.toLowerCase())||s.identificador.toLowerCase().includes(d.toLowerCase())||((i=s.user)==null?void 0:i.name.toLowerCase().includes(d.toLowerCase()))});return e.jsxs(v,{breadcrumbs:C,children:[e.jsx(f,{title:"Gestión de Formularios"}),e.jsx(b,{title:"Gestión de Formularios",description:"Administra la estructura de tus formularios dinámicos."}),n.success&&e.jsx("div",{className:"mb-4 text-green-600",children:n.success}),n.error&&e.jsx("div",{className:"mb-4 text-red-600",children:n.error}),e.jsxs("div",{className:"mb-4 flex items-center justify-between space-y-6",children:[e.jsx(l,{href:route("formularios.create"),children:e.jsx(o,{children:"Crear Formulario"})}),e.jsx(N,{type:"text",placeholder:"Buscar formulario...",className:"w-1/3",value:d,onChange:s=>h(s.target.value)})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(y,{children:[e.jsx(w,{children:e.jsxs(m,{children:[e.jsx(t,{children:"ID"}),e.jsx(t,{children:"Nombre"}),e.jsx(t,{children:"Identificador"}),e.jsx(t,{children:"Tipo"}),e.jsx(t,{children:"Creado Por"}),e.jsx(t,{children:"Grupo"}),e.jsx(t,{children:"Estado"}),e.jsx(t,{children:"Edición Permitida"}),e.jsx(t,{className:"text-right",children:"Acciones"})]})}),e.jsx(T,{children:x.length>0?x.map(s=>{var i;return e.jsxs(m,{className:s.deleted_at?"line-through opacity-50":"",children:[e.jsx(r,{className:"font-medium",children:s.id}),e.jsx(r,{children:s.nombre}),e.jsx(r,{children:s.identificador}),e.jsx(r,{children:e.jsx(c,{variant:"outline",children:s.tipo_formulario.nombre})}),e.jsx(r,{children:((i=s.user)==null?void 0:i.name)||"N/A"}),e.jsx(r,{children:e.jsx(c,{variant:"outline",children:s.grupo.nombre})}),e.jsx(r,{children:e.jsx(c,{variant:"outline",children:s.estado.nombre})}),e.jsx(r,{children:e.jsx(c,{variant:s.permite_edicion?"default":"secondary",children:s.permite_edicion?"Sí":"No"})}),e.jsx(r,{className:"text-right",children:e.jsx("div",{className:"flex justify-end gap-2",children:s.deleted_at?e.jsx("span",{className:"text-muted-foreground text-sm",children:"Eliminado"}):e.jsxs(e.Fragment,{children:[e.jsx(l,{href:route("formularios.edit",s.id),children:e.jsx(o,{variant:"outline",size:"sm",children:"Editar"})}),e.jsx(o,{asChild:!0,variant:"destructive",size:"sm",children:e.jsxs(l,{href:route("formularios.destroy",s.id),method:"delete",className:"focus-visible:ring-ring bg-destructive text-destructive-foreground hover:bg-destructive/90 inline-flex h-9 items-center justify-center rounded-md px-4 py-2 text-sm font-medium whitespace-nowrap focus-visible:ring-1 focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",onClick:u=>{confirm("¿Estás seguro de que quieres eliminar este formulario?")||u.preventDefault()},children:[e.jsx(g,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Eliminar"})]})})]})})})]},s.id)}):e.jsx(m,{children:e.jsx(r,{colSpan:8,className:"text-muted-foreground text-center",children:"No se encontraron formularios."})})})]})}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("span",{className:"text-muted-foreground text-sm",children:["Mostrando ",a.from," a ",a.to," de ",a.total," resultados"]}),e.jsx("div",{className:"flex space-x-2",children:a.links.map((s,i)=>e.jsx(l,{href:s.url||"#",children:e.jsx(o,{variant:s.active?"default":"outline",size:"sm",disabled:!s.url,dangerouslySetInnerHTML:{__html:s.label}})},i))})]})]})}export{D as default};
