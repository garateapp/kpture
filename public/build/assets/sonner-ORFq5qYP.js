import{r as d,j as i,g as Pt,U as kt}from"./app-Be8ghtRb.js";import{c as j,a as ee,B as F}from"./button-D1N9RrD0.js";import{I as M}from"./input-Co6CCOt6.js";import{L as w}from"./label-DPNJkhla.js";import{C as Mt,a as Rt,T as Ye}from"./textarea-B1dCnzMh.js";import{C as Se,b as Qe,a as _t,c as Lt}from"./card-B8jOSnGI.js";import{u as At,c as Ht,a as le,P as Ft}from"./index-BQmSkEsW.js";import{u as qt,c as Je,R as $t,I as Vt,T as Ut}from"./app-layout-BXVEw3EX.js";import{P as te}from"./index-CCmhZsir.js";import{u as Gt}from"./index-wGWY3QV4.js";import{S as U,a as G,b as z,c as B,d as N}from"./select-B4H269ix.js";import{T as ve}from"./badge-DasfRpBM.js";import{T as zt}from"./index-CuSu5bUe.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h4",key:"6d7r33"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h10",key:"1438ji"}]],Wt=j("ArrowDownNarrowWide",Bt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Yt=j("CalendarClock",Xt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],Jt=j("CircleDot",Qt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Kt=j("Clock",Zt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],tr=j("File",er);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=[["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M6 20V4",key:"1w1bmo"}],["path",{d:"M18 20V4",key:"o2hl4u"}]],nr=j("Heading",rr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],ir=j("Key",sr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],or=j("ListChecks",ar);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],ke=j("ListOrdered",cr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],ur=j("Mail",lr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=[["path",{d:"M5 12h14",key:"1ays0h"}]],hr=j("Minus",dr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],fr=j("Phone",gr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Me=j("Plus",pr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],vr=j("QrCode",mr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],br=j("SquareDot",yr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Dr=j("Square",xr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=[["path",{d:"M17 6.1H3",key:"wptmhv"}],["path",{d:"M21 12.1H3",key:"1j38uz"}],["path",{d:"M15.1 18H3",key:"1nb16a"}]],Sr=j("Text",Tr),Ze=d.createContext({dragDropManager:void 0});function L(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Re=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),_e=function(){return Math.random().toString(36).substring(7).split("").join(".")},Le={INIT:"@@redux/INIT"+_e(),REPLACE:"@@redux/REPLACE"+_e()};function Cr(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Ke(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(L(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(L(1));return r(Ke)(t,e)}if(typeof t!="function")throw new Error(L(2));var s=t,a=e,o=[],c=o,l=!1;function u(){c===o&&(c=o.slice())}function g(){if(l)throw new Error(L(3));return a}function b(f){if(typeof f!="function")throw new Error(L(4));if(l)throw new Error(L(5));var m=!0;return u(),c.push(f),function(){if(m){if(l)throw new Error(L(6));m=!1,u();var T=c.indexOf(f);c.splice(T,1),o=null}}}function x(f){if(!Cr(f))throw new Error(L(7));if(typeof f.type>"u")throw new Error(L(8));if(l)throw new Error(L(9));try{l=!0,a=s(a,f)}finally{l=!1}for(var m=o=c,v=0;v<m.length;v++){var T=m[v];T()}return f}function p(f){if(typeof f!="function")throw new Error(L(10));s=f,x({type:Le.REPLACE})}function S(){var f,m=b;return f={subscribe:function(T){if(typeof T!="object"||T===null)throw new Error(L(11));function C(){T.next&&T.next(g())}C();var P=m(C);return{unsubscribe:P}}},f[Re]=function(){return this},f}return x({type:Le.INIT}),n={dispatch:x,subscribe:b,getState:g,replaceReducer:p},n[Re]=S,n}function D(t,e,...r){if(Or()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;n=new Error(e.replace(/%s/g,function(){return r[s++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function Or(){return typeof process<"u"&&!0}function wr(t,e,r){return e.split(".").reduce((n,s)=>n&&n[s]?n[s]:r||null,t)}function Ir(t,e){return t.filter(r=>r!==e)}function et(t){return typeof t=="object"}function Nr(t,e){const r=new Map,n=a=>{r.set(a,r.has(a)?r.get(a)+1:1)};t.forEach(n),e.forEach(n);const s=[];return r.forEach((a,o)=>{a===1&&s.push(o)}),s}function Er(t,e){return t.filter(r=>e.indexOf(r)>-1)}const Ce="dnd-core/INIT_COORDS",re="dnd-core/BEGIN_DRAG",Oe="dnd-core/PUBLISH_DRAG_SOURCE",ne="dnd-core/HOVER",se="dnd-core/DROP",ie="dnd-core/END_DRAG";function Ae(t,e){return{type:Ce,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const jr={type:Ce,payload:{clientOffset:null,sourceClientOffset:null}};function Pr(t){return function(r=[],n={publishSource:!0}){const{publishSource:s=!0,clientOffset:a,getSourceClientOffset:o}=n,c=t.getMonitor(),l=t.getRegistry();t.dispatch(Ae(a)),kr(r,c,l);const u=_r(r,c);if(u==null){t.dispatch(jr);return}let g=null;if(a){if(!o)throw new Error("getSourceClientOffset must be defined");Mr(o),g=o(u)}t.dispatch(Ae(a,g));const x=l.getSource(u).beginDrag(c,u);if(x==null)return;Rr(x),l.pinSource(u);const p=l.getSourceType(u);return{type:re,payload:{itemType:p,item:x,sourceId:u,clientOffset:a||null,sourceClientOffset:g||null,isSourcePublic:!!s}}}}function kr(t,e,r){D(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){D(r.getSource(n),"Expected sourceIds to be registered.")})}function Mr(t){D(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Rr(t){D(et(t),"Item must be an object.")}function _r(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function Lr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){Lr(t,s,r[s])})}return t}function Hr(t){return function(r={}){const n=t.getMonitor(),s=t.getRegistry();Fr(n),Vr(n).forEach((o,c)=>{const l=qr(o,c,s,n),u={type:se,payload:{dropResult:Ar({},r,l)}};t.dispatch(u)})}}function Fr(t){D(t.isDragging(),"Cannot call drop while not dragging."),D(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function qr(t,e,r,n){const s=r.getTarget(t);let a=s?s.drop(n,t):void 0;return $r(a),typeof a>"u"&&(a=e===0?{}:n.getDropResult()),a}function $r(t){D(typeof t>"u"||et(t),"Drop result must either be an object or undefined.")}function Vr(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function Ur(t){return function(){const r=t.getMonitor(),n=t.getRegistry();Gr(r);const s=r.getSourceId();return s!=null&&(n.getSource(s,!0).endDrag(r,s),n.unpinSource()),{type:ie}}}function Gr(t){D(t.isDragging(),"Cannot call endDrag while not dragging.")}function ye(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function zr(t){return function(r,{clientOffset:n}={}){Br(r);const s=r.slice(0),a=t.getMonitor(),o=t.getRegistry(),c=a.getItemType();return Xr(s,o,c),Wr(s,a,o),Yr(s,a,o),{type:ne,payload:{targetIds:s,clientOffset:n||null}}}}function Br(t){D(Array.isArray(t),"Expected targetIds to be an array.")}function Wr(t,e,r){D(e.isDragging(),"Cannot call hover while not dragging."),D(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){const s=t[n];D(t.lastIndexOf(s)===n,"Expected targetIds to be unique in the passed array.");const a=r.getTarget(s);D(a,"Expected targetIds to be registered.")}}function Xr(t,e,r){for(let n=t.length-1;n>=0;n--){const s=t[n],a=e.getTargetType(s);ye(a,r)||t.splice(n,1)}}function Yr(t,e,r){t.forEach(function(n){r.getTarget(n).hover(e,n)})}function Qr(t){return function(){if(t.getMonitor().isDragging())return{type:Oe}}}function Jr(t){return{beginDrag:Pr(t),publishDragSource:Qr(t),hover:zr(t),drop:Hr(t),endDrag:Ur(t)}}class Zr{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function n(a){return(...o)=>{const c=a.apply(e,o);typeof c<"u"&&r(c)}}const s=Jr(this);return Object.keys(s).reduce((a,o)=>{const c=s[o];return a[o]=n(c),a},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function Kr(t,e){return{x:t.x+e.x,y:t.y+e.y}}function tt(t,e){return{x:t.x-e.x,y:t.y-e.y}}function en(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return!e||!r||!n?null:tt(Kr(e,n),r)}function tn(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:tt(e,r)}const W=[],we=[];W.__IS_NONE__=!0;we.__IS_ALL__=!0;function rn(t,e){return t===W?!1:t===we||typeof e>"u"?!0:Er(e,t).length>0}class nn{subscribeToStateChange(e,r={}){const{handlerIds:n}=r;D(typeof e=="function","listener must be a function."),D(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const a=()=>{const o=this.store.getState(),c=o.stateId;try{c===s||c===s+1&&!rn(o.dirtyHandlerIds,n)||e()}finally{s=c}};return this.store.subscribe(a)}subscribeToOffsetChange(e){D(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const s=this.store.getState().dragOffset;s!==r&&(r=s,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return D(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(D(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),s=this.getItemType();return ye(n,s)&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(D(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),s=this.getItemType();return n!==s?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const s=this.registry.getTargetType(e),a=this.getItemType();if(a&&!ye(s,a))return!1;const o=this.getTargetIds();if(!o.length)return!1;const c=o.indexOf(e);return n?c===o.length-1:c>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return en(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return tn(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const He=typeof global<"u"?global:self,rt=He.MutationObserver||He.WebKitMutationObserver;function nt(t){return function(){const r=setTimeout(s,0),n=setInterval(s,50);function s(){clearTimeout(r),clearInterval(n),t()}}}function sn(t){let e=1;const r=new rt(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const an=typeof rt=="function"?sn:nt;class on{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,s=e.length-this.index;n<s;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=an(this.flush),this.requestErrorThrow=nt(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class cn{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class ln{create(e){const r=this.freeTasks,n=r.length?r.pop():new cn(this.onError,s=>r[r.length]=s);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const st=new on,un=new ln(st.registerPendingError);function dn(t){st.enqueueTask(un.create(t))}const Ie="dnd-core/ADD_SOURCE",Ne="dnd-core/ADD_TARGET",Ee="dnd-core/REMOVE_SOURCE",ae="dnd-core/REMOVE_TARGET";function hn(t){return{type:Ie,payload:{sourceId:t}}}function gn(t){return{type:Ne,payload:{targetId:t}}}function fn(t){return{type:Ee,payload:{sourceId:t}}}function pn(t){return{type:ae,payload:{targetId:t}}}function mn(t){D(typeof t.canDrag=="function","Expected canDrag to be a function."),D(typeof t.beginDrag=="function","Expected beginDrag to be a function."),D(typeof t.endDrag=="function","Expected endDrag to be a function.")}function vn(t){D(typeof t.canDrop=="function","Expected canDrop to be a function."),D(typeof t.hover=="function","Expected hover to be a function."),D(typeof t.drop=="function","Expected beginDrag to be a function.")}function be(t,e){if(e&&Array.isArray(t)){t.forEach(r=>be(r,!1));return}D(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var A;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(A||(A={}));let yn=0;function bn(){return yn++}function xn(t){const e=bn().toString();switch(t){case A.SOURCE:return`S${e}`;case A.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function Fe(t){switch(t[0]){case"S":return A.SOURCE;case"T":return A.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function qe(t,e){const r=t.entries();let n=!1;do{const{done:s,value:[,a]}=r.next();if(a===e)return!0;n=!!s}while(!n);return!1}class Dn{addSource(e,r){be(e),mn(r);const n=this.addHandler(A.SOURCE,e,r);return this.store.dispatch(hn(n)),n}addTarget(e,r){be(e,!0),vn(r);const n=this.addHandler(A.TARGET,e,r);return this.store.dispatch(gn(n)),n}containsHandler(e){return qe(this.dragSources,e)||qe(this.dropTargets,e)}getSource(e,r=!1){return D(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return D(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return D(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return D(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Fe(e)===A.SOURCE}isTargetId(e){return Fe(e)===A.TARGET}removeSource(e){D(this.getSource(e),"Expected an existing source."),this.store.dispatch(fn(e)),dn(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){D(this.getTarget(e),"Expected an existing target."),this.store.dispatch(pn(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);D(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){D(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,n){const s=xn(e);return this.types.set(s,r),e===A.SOURCE?this.dragSources.set(s,n):e===A.TARGET&&this.dropTargets.set(s,n),s}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const Tn=(t,e)=>t===e;function Sn(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function Cn(t,e,r=Tn){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function On(t=W,e){switch(e.type){case ne:break;case Ie:case Ne:case ae:case Ee:return W;case re:case Oe:case ie:case se:default:return we}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,s=Nr(r,n);if(!(s.length>0||!Cn(r,n)))return W;const o=n[n.length-1],c=r[r.length-1];return o!==c&&(o&&s.push(o),c&&s.push(c)),s}function wn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function In(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){wn(t,s,r[s])})}return t}const $e={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Nn(t=$e,e){const{payload:r}=e;switch(e.type){case Ce:case re:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case ne:return Sn(t.clientOffset,r.clientOffset)?t:In({},t,{clientOffset:r.clientOffset});case ie:case se:return $e;default:return t}}function En(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){En(t,s,r[s])})}return t}const jn={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Pn(t=jn,e){const{payload:r}=e;switch(e.type){case re:return $({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Oe:return $({},t,{isSourcePublic:!0});case ne:return $({},t,{targetIds:r.targetIds});case ae:return t.targetIds.indexOf(r.targetId)===-1?t:$({},t,{targetIds:Ir(t.targetIds,r.targetId)});case se:return $({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case ie:return $({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function kn(t=0,e){switch(e.type){case Ie:case Ne:return t+1;case Ee:case ae:return t-1;default:return t}}function Mn(t=0){return t+1}function Rn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _n(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){Rn(t,s,r[s])})}return t}function Ln(t={},e){return{dirtyHandlerIds:On(t.dirtyHandlerIds,{type:e.type,payload:_n({},e.payload,{prevTargetIds:wr(t,"dragOperation.targetIds",[])})}),dragOffset:Nn(t.dragOffset,e),refCount:kn(t.refCount,e),dragOperation:Pn(t.dragOperation,e),stateId:Mn(t.stateId)}}function An(t,e=void 0,r={},n=!1){const s=Hn(n),a=new nn(s,new Dn(s)),o=new Zr(s,a),c=t(o,e,r);return o.receiveBackend(c),o}function Hn(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Ke(Ln,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function Fn(t,e){if(t==null)return{};var r=qn(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qn(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}let Ve=0;const Z=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var li=d.memo(function(e){var{children:r}=e,n=Fn(e,["children"]);const[s,a]=$n(n);return d.useEffect(()=>{if(a){const o=it();return++Ve,()=>{--Ve===0&&(o[Z]=null)}}},[]),i.jsx(Ze.Provider,{value:s,children:r})});function $n(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=Vn(t.backend,t.context,t.options,t.debugMode),r=!t.context;return[e,r]}function Vn(t,e=it(),r,n){const s=e;return s[Z]||(s[Z]={dragDropManager:An(t,e,r,n)}),s[Z]}function it(){return typeof global<"u"?global:window}var ue,Ue;function Un(){return Ue||(Ue=1,ue=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){var o=a[s];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}),ue}var Gn=Un();const zn=Pt(Gn),q=typeof window<"u"?d.useLayoutEffect:d.useEffect;function Bn(t,e,r){const[n,s]=d.useState(()=>e(t)),a=d.useCallback(()=>{const o=e(t);zn(n,o)||(s(o),r&&r())},[n,t,r]);return q(a),[n,a]}function Wn(t,e,r){const[n,s]=Bn(t,e,r);return q(function(){const o=t.getHandlerId();if(o!=null)return t.subscribeToStateChange(s,{handlerIds:[o]})},[t,s]),n}function at(t,e,r){return Wn(e,t||(()=>({})),()=>r.reconnect())}function ot(t,e){const r=[...e||[]];return e==null&&typeof t!="function"&&r.push(t),d.useMemo(()=>typeof t=="function"?t():t,r)}function Xn(t){return d.useMemo(()=>t.hooks.dragSource(),[t])}function Yn(t){return d.useMemo(()=>t.hooks.dragPreview(),[t])}let de=!1,he=!1;class Qn{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){D(!de,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return de=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{de=!1}}isDragging(){if(!this.sourceId)return!1;D(!he,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return he=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{he=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let ge=!1;class Jn{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;D(!ge,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return ge=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{ge=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function Zn(t,e,r){const n=r.getRegistry(),s=n.addTarget(t,e);return[s,()=>n.removeTarget(s)]}function Kn(t,e,r){const n=r.getRegistry(),s=n.addSource(t,e);return[s,()=>n.removeSource(s)]}function xe(t,e,r,n){let s;if(s!==void 0)return!!s;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const a=Object.keys(t),o=Object.keys(e);if(a.length!==o.length)return!1;const c=Object.prototype.hasOwnProperty.bind(e);for(let l=0;l<a.length;l++){const u=a[l];if(!c(u))return!1;const g=t[u],b=e[u];if(s=void 0,s===!1||s===void 0&&g!==b)return!1}return!0}function De(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function es(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function ts(t){return(e=null,r=null)=>{if(!d.isValidElement(e)){const a=e;return t(a,r),a}const n=e;return es(n),rs(n,r?a=>t(a,r):t)}}function ct(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{const s=ts(n);e[r]=()=>s}}),e}function Ge(t,e){typeof t=="function"?t(e):t.current=e}function rs(t,e){const r=t.ref;return D(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?d.cloneElement(t,{ref:n=>{Ge(r,n),Ge(e,n)}}):d.cloneElement(t,{ref:e})}class ns{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!xe(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!xe(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=ct({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,De(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,De(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class ss{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!xe(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=ct({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,De(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function V(){const{dragDropManager:t}=d.useContext(Ze);return D(t!=null,"Expected drag drop context"),t}function is(t,e){const r=V(),n=d.useMemo(()=>new ns(r.getBackend()),[r]);return q(()=>(n.dragSourceOptions=t||null,n.reconnect(),()=>n.disconnectDragSource()),[n,t]),q(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function as(){const t=V();return d.useMemo(()=>new Qn(t),[t])}class os{beginDrag(){const e=this.spec,r=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(r):n={},n??null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){const n=this.spec,s=this.monitor,{isDragging:a}=n;return a?a(s):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,n=this.connector,{end:s}=e;s&&s(r.getItem(),r),n.reconnect()}constructor(e,r,n){this.spec=e,this.monitor=r,this.connector=n}}function cs(t,e,r){const n=d.useMemo(()=>new os(t,e,r),[e,r]);return d.useEffect(()=>{n.spec=t},[t]),n}function ls(t){return d.useMemo(()=>{const e=t.type;return D(e!=null,"spec.type must be defined"),e},[t])}function us(t,e,r){const n=V(),s=cs(t,e,r),a=ls(t);q(function(){if(a!=null){const[c,l]=Kn(a,s,n);return e.receiveHandlerId(c),r.receiveHandlerId(c),l}},[n,e,r,s,a])}function lt(t,e){const r=ot(t,e);D(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=as(),s=is(r.options,r.previewOptions);return us(r,n,s),[at(r.collect,n,s),Xn(s),Yn(s)]}function ds(t){return d.useMemo(()=>t.hooks.dropTarget(),[t])}function hs(t){const e=V(),r=d.useMemo(()=>new ss(e.getBackend()),[e]);return q(()=>(r.dropTargetOptions=t||null,r.reconnect(),()=>r.disconnectDropTarget()),[t]),r}function gs(){const t=V();return d.useMemo(()=>new Jn(t),[t])}function fs(t){const{accept:e}=t;return d.useMemo(()=>(D(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class ps{canDrop(){const e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function ms(t,e){const r=d.useMemo(()=>new ps(t,e),[e]);return d.useEffect(()=>{r.spec=t},[t]),r}function vs(t,e,r){const n=V(),s=ms(t,e),a=fs(t);q(function(){const[c,l]=Zn(a,s,n);return e.receiveHandlerId(c),r.receiveHandlerId(c),l},[n,e,s,r,a.map(o=>o.toString()).join("|")])}function ut(t,e){const r=ot(t,e),n=gs(),s=hs(r.options);return vs(r,n,s),[at(r.collect,n,s),ds(s)]}function dt(t){let e=null;return()=>(e==null&&(e=t()),e)}function ys(t,e){return t.filter(r=>r!==e)}function bs(t,e){const r=new Set,n=a=>r.add(a);t.forEach(n),e.forEach(n);const s=[];return r.forEach(a=>s.push(a)),s}class xs{enter(e){const r=this.entered.length,n=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(e));return this.entered=bs(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=ys(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class Ds{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const s=this.config.exposeProperties[n];s!=null&&(r[n]={value:s(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const ht="__NATIVE_FILE__",gt="__NATIVE_URL__",ft="__NATIVE_TEXT__",pt="__NATIVE_HTML__",ze=Object.freeze(Object.defineProperty({__proto__:null,FILE:ht,HTML:pt,TEXT:ft,URL:gt},Symbol.toStringTag,{value:"Module"}));function fe(t,e,r){const n=e.reduce((s,a)=>s||t.getData(a),"");return n??r}const Te={[ht]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[pt]:{exposeProperties:{html:(t,e)=>fe(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[gt]:{exposeProperties:{urls:(t,e)=>fe(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[ft]:{exposeProperties:{text:(t,e)=>fe(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function Ts(t,e){const r=Te[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new Ds(r);return n.loadDataTransfer(e),n}function pe(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(Te).filter(r=>{const n=Te[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(s=>e.indexOf(s)>-1):!1})[0]||null}const Ss=dt(()=>/firefox/i.test(navigator.userAgent)),mt=dt(()=>!!window.safari);class Be{interpolate(e){const{xs:r,ys:n,c1s:s,c2s:a,c3s:o}=this;let c=r.length-1;if(e===r[c])return n[c];let l=0,u=o.length-1,g;for(;l<=u;){g=Math.floor(.5*(l+u));const p=r[g];if(p<e)l=g+1;else if(p>e)u=g-1;else return n[g]}c=Math.max(0,u);const b=e-r[c],x=b*b;return n[c]+s[c]*b+a[c]*x+o[c]*b*x}constructor(e,r){const{length:n}=e,s=[];for(let p=0;p<n;p++)s.push(p);s.sort((p,S)=>e[p]<e[S]?-1:1);const a=[],o=[];let c,l;for(let p=0;p<n-1;p++)c=e[p+1]-e[p],l=r[p+1]-r[p],a.push(c),o.push(l/c);const u=[o[0]];for(let p=0;p<a.length-1;p++){const S=o[p],f=o[p+1];if(S*f<=0)u.push(0);else{c=a[p];const m=a[p+1],v=c+m;u.push(3*v/((v+m)/S+(v+c)/f))}}u.push(o[o.length-1]);const g=[],b=[];let x;for(let p=0;p<u.length-1;p++){x=o[p];const S=u[p],f=1/a[p],m=S+u[p+1]-x-x;g.push((x-S-m)*f),b.push(m*f*f)}this.xs=e,this.ys=r,this.c1s=u,this.c2s=g,this.c3s=b}}const Cs=1;function vt(t){const e=t.nodeType===Cs?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function Y(t){return{x:t.clientX,y:t.clientY}}function Os(t){var e;return t.nodeName==="IMG"&&(Ss()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function ws(t,e,r,n){let s=t?e.width:r,a=t?e.height:n;return mt()&&t&&(a/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:a}}function Is(t,e,r,n,s){const a=Os(e),c=vt(a?t:e),l={x:r.x-c.x,y:r.y-c.y},{offsetWidth:u,offsetHeight:g}=t,{anchorX:b,anchorY:x}=n,{dragPreviewWidth:p,dragPreviewHeight:S}=ws(a,e,u,g),f=()=>{let k=new Be([0,.5,1],[l.y,l.y/g*S,l.y+S-g]).interpolate(x);return mt()&&a&&(k+=(window.devicePixelRatio-1)*S),k},m=()=>new Be([0,.5,1],[l.x,l.x/u*p,l.x+p-u]).interpolate(b),{offsetX:v,offsetY:T}=s,C=v===0||v,P=T===0||T;return{x:C?v:m(),y:P?T:f()}}class Ns{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}}function Es(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function We(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.forEach(function(s){Es(t,s,r[s])})}return t}class js{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const s=o=>this.handleDragStart(o,e),a=o=>this.handleSelectStart(o);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",s),r.addEventListener("selectstart",a),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",s),r.removeEventListener("selectstart",a),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=o=>this.handleDragEnter(o,e),s=o=>this.handleDragOver(o,e),a=o=>this.handleDrop(o,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",s),r.addEventListener("drop",a),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",s),r.removeEventListener("drop",a)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return We({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return We({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(ze).some(r=>ze[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=Ts(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const a=this.sourceNodes.get(s);return a&&vt(a)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:a}=this;this.dragStartSourceIds=null;const o=Y(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(a||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:c}=s,l=pe(c);if(this.monitor.isDragging()){if(c&&typeof c.setDragImage=="function"){const g=this.monitor.getSourceId(),b=this.sourceNodes.get(g),x=this.sourcePreviewNodes.get(g)||b;if(x){const{anchorX:p,anchorY:S,offsetX:f,offsetY:m}=this.getCurrentSourcePreviewNodeOptions(),C=Is(b,x,o,{anchorX:p,anchorY:S},{offsetX:f,offsetY:m});c.setDragImage(x,C.x,C.y)}}try{c==null||c.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(c&&!c.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var a;(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:c}=s,l=pe(c);l&&this.beginDragNativeItem(l,c)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:a}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,a.length>0&&this.actions.hover(a,{clientOffset:Y(s)}),a.some(c=>this.monitor.canDropOnTarget(c))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var a;(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:a}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=Y(s),this.scheduleHover(a),(a||[]).some(c=>this.monitor.canDropOnTarget(c))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var a;s.preventDefault(),(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(s.dataTransfer)}else pe(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:a}=this;this.dropTargetIds=[],this.actions.hover(a,{clientOffset:Y(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const a=s.target;typeof a.dragDrop=="function"&&(a.tagName==="INPUT"||a.tagName==="SELECT"||a.tagName==="TEXTAREA"||a.isContentEditable||(s.preventDefault(),a.dragDrop()))},this.options=new Ns(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new xs(this.isNodeInDocument)}}const ui=function(e,r,n){return new js(e,r,n)},E=[];for(let t=0;t<256;++t)E.push((t+256).toString(16).slice(1));function Ps(t,e=0){return(E[t[e+0]]+E[t[e+1]]+E[t[e+2]]+E[t[e+3]]+"-"+E[t[e+4]]+E[t[e+5]]+"-"+E[t[e+6]]+E[t[e+7]]+"-"+E[t[e+8]]+E[t[e+9]]+"-"+E[t[e+10]]+E[t[e+11]]+E[t[e+12]]+E[t[e+13]]+E[t[e+14]]+E[t[e+15]]).toLowerCase()}let me;const ks=new Uint8Array(16);function Ms(){if(!me){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");me=crypto.getRandomValues.bind(crypto)}return me(ks)}const Rs=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Xe={randomUUID:Rs};function je(t,e,r){var s;if(Xe.randomUUID&&!t)return Xe.randomUUID();t=t||{};const n=t.random??((s=t.rng)==null?void 0:s.call(t))??Ms();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Ps(n)}var oe="Tabs",[_s,di]=Ht(oe,[Je]),yt=Je(),[Ls,Pe]=_s(oe),bt=d.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:c,activationMode:l="automatic",...u}=t,g=qt(c),[b,x]=At({prop:n,onChange:s,defaultProp:a??"",caller:oe});return i.jsx(Ls,{scope:r,baseId:Gt(),value:b,onValueChange:x,orientation:o,dir:g,activationMode:l,children:i.jsx(te.div,{dir:g,"data-orientation":o,...u,ref:e})})});bt.displayName=oe;var xt="TabsList",Dt=d.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,a=Pe(xt,r),o=yt(r);return i.jsx($t,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(te.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:e})})});Dt.displayName=xt;var Tt="TabsTrigger",St=d.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=t,o=Pe(Tt,r),c=yt(r),l=wt(o.baseId,n),u=It(o.baseId,n),g=n===o.value;return i.jsx(Vt,{asChild:!0,...c,focusable:!s,active:g,children:i.jsx(te.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":u,"data-state":g?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...a,ref:e,onMouseDown:le(t.onMouseDown,b=>{!s&&b.button===0&&b.ctrlKey===!1?o.onValueChange(n):b.preventDefault()}),onKeyDown:le(t.onKeyDown,b=>{[" ","Enter"].includes(b.key)&&o.onValueChange(n)}),onFocus:le(t.onFocus,()=>{const b=o.activationMode!=="manual";!g&&!s&&b&&o.onValueChange(n)})})})});St.displayName=Tt;var Ct="TabsContent",Ot=d.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=t,c=Pe(Ct,r),l=wt(c.baseId,n),u=It(c.baseId,n),g=n===c.value,b=d.useRef(g);return d.useEffect(()=>{const x=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(x)},[]),i.jsx(Ft,{present:s||g,children:({present:x})=>i.jsx(te.div,{"data-state":g?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":l,hidden:!x,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:b.current?"0s":void 0},children:x&&a})})});Ot.displayName=Ct;function wt(t,e){return`${t}-trigger-${e}`}function It(t,e){return`${t}-content-${e}`}var As=bt,Hs=Dt,Fs=St,qs=Ot;function $s({className:t,...e}){return i.jsx(As,{"data-slot":"tabs",className:ee("flex flex-col gap-2",t),...e})}function Vs({className:t,...e}){return i.jsx(Hs,{"data-slot":"tabs-list",className:ee("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e})}function Q({className:t,...e}){return i.jsx(Fs,{"data-slot":"tabs-trigger",className:ee("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function J({className:t,...e}){return i.jsx(qs,{"data-slot":"tabs-content",className:ee("flex-1 outline-none",t),...e})}const K={COMPONENT:"component",PALETTE_ITEM:"palette_item"},Us=({item:t})=>{const[{isDragging:e},r]=lt(()=>({type:K.PALETTE_ITEM,item:{type:t.type,defaultProps:t.defaultProps,defaultValidation:t.defaultValidation,options:t.options},collect:n=>({isDragging:n.isDragging()})}),[t]);return i.jsxs(F,{ref:r,variant:"outline",className:"flex items-center justify-start gap-2 py-2 px-3 text-sm text-muted-foreground hover:bg-accent hover:text-accent-foreground cursor-grab",style:{opacity:e?.5:1},children:[t.icon," ",t.label]})},Nt=kt.memo(({component:t,index:e,moveComponent:r,onSelect:n,onDelete:s,selectedComponentId:a})=>{const o=d.useRef(null),c=a===t.id,[{isDragging:l},u]=lt(()=>({type:K.COMPONENT,item:{id:t.id,index:e},collect:f=>({isDragging:f.isDragging()})}),[t.id,e]),[,g]=ut(()=>({accept:K.COMPONENT,hover(f,m){if(!o.current||!m.isOver({shallow:!0})||f.id===t.id)return;const v=f.index,T=e;v!==T&&(r(v,T),f.index=T)}}),[t.id,e,r]),b=d.useCallback(f=>{o.current=f,u(f),g(f)},[u,g]),x=d.useCallback(()=>{n(t)},[n,t]),p=d.useCallback(f=>{f.stopPropagation(),s(t.id)},[s,t.id]),S=f=>{var m;switch(f.type){case"text":case"number":case"email":case"phone":return i.jsx(M,{placeholder:f.props.placeholder||"Campo de texto",disabled:!0});case"textarea":return i.jsx(Ye,{placeholder:f.props.placeholder||"Campo de texto largo",disabled:!0});case"select":case"select_dinamico":case"checklist":case"radio":console.log(`Component ID: ${t.id}, Type: ${t.type}, Options:`,t.options);const v=f.options&&f.options.length>0,T=f.entityName;return i.jsxs("div",{className:"flex flex-col gap-1",children:[v&&((m=f.options)==null?void 0:m.map((C,P)=>i.jsxs(w,{className:"flex items-center gap-2",children:[f.type==="radio"?i.jsx(M,{type:"radio",className:"w-4 h-4",disabled:!0}):i.jsx(M,{type:"checkbox",className:"w-4 h-4",disabled:!0}),C.label]},P))),T&&i.jsxs("span",{className:"text-sm text-blue-600",children:["Opciones desde BD: **",f.entityName,"**"]}),!v&&!T&&i.jsx("span",{className:"text-sm text-muted-foreground",children:"Sin opciones definidas"})]});case"checkbox":return i.jsxs(w,{className:"flex items-center gap-2",children:[i.jsx(M,{type:"checkbox",className:"w-4 h-4",disabled:!0}),f.props.label]});case"date":case"time":case"datetime":return i.jsx(M,{type:"text",placeholder:`Campo de ${f.type}`,disabled:!0});case"signature":return i.jsx(F,{variant:"outline",disabled:!0,children:"Campo de Firma"});case"qr_scanner":return i.jsx(F,{variant:"outline",disabled:!0,children:"Escanear QR"});case"photo":return i.jsx(F,{variant:"outline",disabled:!0,children:"Tomar Foto"});case"file":return i.jsx(F,{variant:"outline",disabled:!0,children:"Seleccionar Archivo"});case"static_text":return i.jsx("div",{className:"text-sm text-muted-foreground",dangerouslySetInnerHTML:{__html:f.props.content||"Texto estático"}});case"divider":return i.jsx("hr",{className:"my-2 border-dashed border-border"});default:return i.jsx(M,{placeholder:`Tipo de componente desconocido: ${f.type}`,disabled:!0})}};return i.jsxs(Se,{ref:b,className:`mb-2 cursor-grab ${c?"border-primary ring-2 ring-primary/50":"border-border"} ${l?"opacity-50":""}`,onClick:x,children:[i.jsxs(_t,{className:"flex flex-row items-center justify-between p-3 pb-2",children:[i.jsx(Qe,{className:"text-sm font-semibold",children:t.props.label||t.type.replace(/_/g," ").toUpperCase()}),i.jsx("div",{className:"flex gap-1",children:i.jsxs(F,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:p,children:[i.jsx("span",{className:"sr-only",children:"Eliminar"}),i.jsx(ve,{className:"h-4 w-4 text-red-500"})]})})]}),i.jsxs(Lt,{className:"p-3 pt-0",children:[i.jsx(w,{className:"mb-1 block text-xs text-muted-foreground",children:t.props.label||"Sin etiqueta"}),S(t)]})]})});Nt.displayName="FormField";const Gs=({component:t,onUpdate:e,onClose:r,allComponents:n})=>{const[s,a]=d.useState(t.props),[o,c]=d.useState(t.validation||{}),[l,u]=d.useState(t.options||[]),[g,b]=d.useState(t.conditionalRules||[]),[x,p]=d.useState(t.entityName?"database":"manual"),[S,f]=d.useState([]),m=n.filter(h=>h.id!==t.id&&h.type!=="divider"&&h.type!=="section"&&h.type!=="static_text").map(h=>({id:h.id,label:h.props.label||`Campo ${h.type.replace(/_/g," ")} (${h.id.substring(0,4)}...)`}));d.useEffect(()=>{a(t.props),c(t.validation||{}),u(t.options||[]),b(t.conditionalRules||[]),p(t.entityName?"database":"manual")},[t.id]),d.useEffect(()=>{const h=async()=>{try{const y=await fetch("/form-lists/entities");if(!y.ok)throw new Error(`HTTP error! status: ${y.status}`);const O=await y.json();f(O)}catch(y){console.error("Error fetching entity names:",y)}};(t.type==="select"||t.type==="checklist"||t.type==="radio"||t.type==="select_dinamico")&&h()},[t.type]);const v=d.useCallback((h,y)=>{const O={...s,[h]:y};a(O),e(t.id,{props:O})},[s,e,t.id]),T=d.useCallback((h,y)=>{const O={...o,[h]:y};c(O),e(t.id,{validation:O})},[o,e,t.id]),C=d.useCallback((h,y,O)=>{const I=[...l];I[h]={...I[h],[y]:O},u(I),e(t.id,{options:I})},[l,e,t.id]),P=d.useCallback(()=>{const h=[...l,{label:"",value:""}];u(h),e(t.id,{options:h})},[l,e,t.id]),R=d.useCallback(h=>{const y=l.filter((O,I)=>I!==h);u(y),e(t.id,{options:y})},[l,e,t.id]),k=d.useCallback(()=>{var O;const h={id:je(),targetFieldId:((O=m[0])==null?void 0:O.id)||"",operator:"=",value:"",action:"skip"},y=[...g,h];b(y),e(t.id,{conditionalRules:y})},[g,e,t.id,m]),H=d.useCallback((h,y,O)=>{const I=g.map(ce=>ce.id===h?{...ce,[y]:O}:ce);b(I),e(t.id,{conditionalRules:I})},[g,e,t.id]),X=d.useCallback(h=>{const y=g.filter(O=>O.id!==h);b(y),e(t.id,{conditionalRules:y})},[g,e,t.id]),_=d.useCallback((h,y,O="text")=>{switch(O){case"text":return i.jsx(M,{type:"text",value:y||"",onChange:I=>v(h,I.target.value),className:"col-span-2"});case"textarea":return i.jsx(Ye,{value:y||"",onChange:I=>v(h,I.target.value),className:"col-span-2"});case"boolean":return i.jsx("input",{type:"checkbox",checked:y===!0,onChange:I=>v(h,I.target.checked),className:"w-4 h-4 ml-2"});case"number":return i.jsx(M,{type:"number",value:y||"",onChange:I=>v(h,Number.parseFloat(I.target.value)||0),className:"col-span-2"});default:return null}},[v]),Et=d.useCallback(h=>{p(h),h==="manual"?e(t.id,{options:l,entityName:void 0}):e(t.id,{options:void 0,entityName:S[0]||void 0})},[l,S,e,t.id]),jt=d.useCallback(h=>{e(t.id,{entityName:h})},[e,t.id]);return i.jsxs("div",{className:"w-80 p-4 border-l bg-card text-card-foreground h-full overflow-y-auto",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Propiedades del Componente: ",t.props.label||t.type]}),i.jsxs($s,{defaultValue:"general",children:[i.jsxs(Vs,{className:"grid w-full grid-cols-3",children:[" ",i.jsx(Q,{value:"general",children:"General"}),i.jsx(Q,{value:"validation",children:"Validación"}),(t.type==="select"||t.type==="checklist"||t.type==="radio")&&i.jsx(Q,{value:"options",children:"Opciones"}),i.jsx(Q,{value:"conditional-logic",children:"Lógica Condicional"})," "]}),i.jsxs(J,{value:"general",className:"mt-4",children:[i.jsxs("div",{className:"grid grid-cols-3 items-center gap-4 mb-3",children:[i.jsx(w,{children:"Etiqueta"}),_("label",s.label,"text")]}),t.type!=="section"&&t.type!=="divider"&&t.type!=="static_text"&&i.jsxs("div",{className:"grid grid-cols-3 items-center gap-4 mb-3",children:[i.jsx(w,{children:"Placeholder"}),_("placeholder",s.placeholder,"text")]}),t.type==="static_text"&&i.jsxs("div",{className:"grid grid-cols-3 items-center gap-4 mb-3",children:[i.jsx(w,{children:"Contenido"}),_("content",s.content,"textarea")]}),t.type==="select"||t.type==="select_dinamico"&&i.jsx(i.Fragment,{children:i.jsxs("div",{className:"grid grid-cols-3 items-center gap-4 mb-3",children:[i.jsx(w,{children:"Multiselección"}),_("multiple",s.multiple,"boolean")]})}),t.type!=="section"&&t.type!=="divider"&&t.type!=="static_text"&&i.jsxs("div",{className:"grid grid-cols-3 items-center gap-4 mb-3",children:[i.jsx(w,{children:"Requerido"}),_("required",s.required,"boolean")]})]}),i.jsxs(J,{value:"validation",className:"mt-4",children:[i.jsx("h4",{className:"text-md font-semibold mb-2",children:"Reglas de Validación"}),(t.type==="text"||t.type==="textarea")&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-3 items-center gap-4 mb-3",children:[i.jsx(w,{children:"Mín. Caracteres"}),i.jsx(M,{type:"number",value:o.minLength||"",onChange:h=>T("minLength",Number.parseInt(h.target.value)||void 0),className:"col-span-2"})]}),i.jsxs("div",{className:"grid grid-cols-3 items-center gap-4 mb-3",children:[i.jsx(w,{children:"Máx. Caracteres"}),i.jsx(M,{type:"number",value:o.maxLength||"",onChange:h=>T("maxLength",Number.parseInt(h.target.value)||void 0),className:"col-span-2"})]})]}),t.type==="number"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-3 items-center gap-4 mb-3",children:[i.jsx(w,{children:"Mín. Valor"}),i.jsx(M,{type:"number",value:o.min||"",onChange:h=>T("min",Number.parseFloat(h.target.value)||void 0),className:"col-span-2"})]}),i.jsxs("div",{className:"grid grid-cols-3 items-center gap-4 mb-3",children:[i.jsx(w,{children:"Máx. Valor"}),i.jsx(M,{type:"number",value:o.max||"",onChange:h=>T("max",Number.parseFloat(h.target.value)||void 0),className:"col-span-2"})]})]})]}),(t.type==="select"||t.type==="checklist"||t.type==="radio"||t.type==="select_dinamico")&&i.jsxs(J,{value:"options",className:"mt-4",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx(w,{className:"block mb-2",children:"Origen de las opciones"}),i.jsxs(U,{onValueChange:Et,value:x,children:[i.jsx(G,{className:"w-full",children:i.jsx(z,{placeholder:"Seleccionar origen"})}),i.jsxs(B,{children:[i.jsx(N,{value:"manual",children:"Manual"}),i.jsx(N,{value:"database",children:"Base de Datos"})]})]})]}),x==="manual"&&i.jsxs(i.Fragment,{children:[l.map((h,y)=>i.jsxs("div",{className:"grid grid-cols-4 items-center gap-2 mb-2",children:[i.jsxs(w,{className:"col-span-1",children:["Opción ",y+1]}),i.jsx(M,{type:"text",value:h.label,onChange:O=>C(y,"label",O.target.value),placeholder:"Etiqueta",className:"col-span-1"}),i.jsx(M,{type:"text",value:h.value,onChange:O=>C(y,"value",O.target.value),placeholder:"Valor",className:"col-span-1"}),i.jsx(F,{variant:"ghost",size:"icon",onClick:()=>R(y),children:i.jsx(ve,{className:"h-4 w-4 text-red-500"})})]},y)),i.jsxs(F,{onClick:P,variant:"outline",className:"mt-2",children:[i.jsx(Me,{className:"h-4 w-4 mr-2"}),"Añadir Opción"]})]}),x==="database"&&i.jsxs("div",{className:"mb-4",children:[i.jsx(w,{className:"block mb-2",children:"Seleccionar Entidad"}),i.jsxs(U,{onValueChange:jt,value:t.entityName||"",children:[i.jsx(G,{className:"w-full",children:i.jsx(z,{placeholder:"Seleccionar una entidad de BD"})}),i.jsx(B,{children:S.length>0?S.map(h=>i.jsx(N,{value:h,children:h},h)):i.jsx(N,{value:"",disabled:!0,children:"No hay entidades disponibles"})})]}),t.entityName&&i.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:['Este campo cargará las opciones de la entidad "',t.entityName,'" de la base de datos.']}),S.length===0&&i.jsx("p",{className:"text-sm text-red-500 mt-2",children:"No se pudieron cargar entidades. Asegúrate que el backend está funcionando y tiene datos."})]})]}),i.jsxs(J,{value:"conditional-logic",className:"mt-4",children:[i.jsx("h4",{className:"text-md font-semibold mb-2",children:"Reglas de Salto/Visibilidad"}),m.length===0&&i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Añade más campos al formulario para poder crear reglas condicionales."}),g.length===0&&m.length>0&&i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Define reglas para saltar u ocultar otros campos basadas en el valor de este control."}),g.map(h=>i.jsxs(Se,{className:"mb-4 p-3 border",children:[i.jsx("div",{className:"flex justify-end",children:i.jsx(F,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>X(h.id),children:i.jsx(ve,{className:"h-4 w-4 text-red-500"})})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(w,{className:"text-xs",children:"Si este campo es"}),i.jsxs(U,{value:h.operator,onValueChange:y=>H(h.id,"operator",y),children:[i.jsx(G,{className:"w-full text-sm",children:i.jsx(z,{placeholder:"Operador"})}),i.jsxs(B,{children:[i.jsx(N,{value:"=",children:"Igual a (=)"}),i.jsx(N,{value:"!=",children:"Diferente a (!=)"}),i.jsx(N,{value:">",children:"Mayor que "}),i.jsx(N,{value:"<",children:"Menor que "}),i.jsx(N,{value:">=",children:"Mayor o igual que"}),i.jsx(N,{value:"<=",children:"Menor o igual que"}),i.jsx(N,{value:"like",children:"Contiene (like)"}),i.jsx(N,{value:"not like",children:"No Contiene (not like)"})]})]}),i.jsx(M,{placeholder:"Valor a comparar",value:h.value,onChange:y=>H(h.id,"value",y.target.value)}),i.jsx(w,{className:"text-xs",children:"Entonces"}),i.jsxs(U,{value:h.action,onValueChange:y=>H(h.id,"action",y),children:[i.jsx(G,{className:"w-full text-sm",children:i.jsx(z,{placeholder:"Acción"})}),i.jsxs(B,{children:[i.jsx(N,{value:"skip",children:"Saltar campo"}),i.jsx(N,{value:"hide",children:"Ocultar campo"}),i.jsx(N,{value:"show",children:"Mostrar campo"})]})]}),i.jsx(w,{className:"text-xs",children:"El campo:"}),i.jsxs(U,{value:h.targetFieldId,onValueChange:y=>H(h.id,"targetFieldId",y),children:[i.jsx(G,{className:"w-full text-sm",children:i.jsx(z,{placeholder:"Selecciona un campo"})}),i.jsxs(B,{children:[m.length===0&&i.jsx(N,{value:"",disabled:!0,children:"No hay otros campos"}),m.map(y=>i.jsx(N,{value:y.id,children:y.label},y.id))]})]})]})]},h.id)),i.jsxs(F,{onClick:k,variant:"secondary",className:"w-full mt-4 flex items-center gap-2",disabled:m.length===0,children:[i.jsx(Me,{className:"h-4 w-4"})," Añadir Regla Condicional"]})]})]}),i.jsx(F,{onClick:r,className:"mt-6 w-full",variant:"outline",children:"Cerrar Panel"})]})},zs=({components:t,selectedComponent:e,setComponents:r,setSelectedComponent:n,moveComponent:s,deleteComponent:a})=>{const[{isOver:o,canDrop:c},l]=ut(()=>({accept:[K.PALETTE_ITEM],drop:(u,g)=>{if(g.didDrop())return;const b={id:je(),type:u.type,props:u.defaultProps||{},validation:u.defaultValidation||{},options:u.options||[],...u.type==="section"?{children:[]}:{},conditionalRules:[]};r(x=>[...x,b])},collect:u=>({isOver:u.isOver({shallow:!0}),canDrop:u.canDrop()})}),[r]);return i.jsxs("div",{ref:l,className:`flex-1 p-6 relative min-h-[600px] ${o&&c?"bg-secondary/20":"bg-background"}`,children:[t.length===0&&!o&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-muted-foreground text-center",children:"Arrastra y suelta componentes aquí"}),t.map((u,g)=>i.jsx(Nt,{component:u,index:g,moveComponent:s,onSelect:n,onDelete:a,selectedComponentId:(e==null?void 0:e.id)||null},u.id))]})},hi=({initialFormStructure:t,onFormStructureChange:e,onSaveFormStructure:r,autoSaveInterval:n=6e4,isSaving:s=!1,lastSavedTime:a=null})=>{const[o,c]=d.useState(t),[l,u]=d.useState(null),g=d.useRef(!0);d.useEffect(()=>{JSON.stringify(t)!==JSON.stringify(o)&&(c(t),g.current=!0)},[t]),d.useEffect(()=>{const m=setTimeout(()=>{e(o)},100);return()=>clearTimeout(m)},[o,e]),d.useEffect(()=>{if(!r||g.current){g.current=!1;return}const m=setTimeout(async()=>{console.log("Auto-guardando estructura del formulario...",o),await r(o)},n);return()=>{clearTimeout(m)}},[o,r,n]);const b=[{type:"text",label:"Campo de Texto",defaultProps:{label:"Nuevo Campo de Texto",placeholder:""},icon:i.jsx(Ut,{className:"w-4 h-4"})},{type:"textarea",label:"Área de Texto",defaultProps:{label:"Nueva Área de Texto",placeholder:"",rows:3},icon:i.jsx(Sr,{className:"w-4 h-4"})},{type:"number",label:"Campo de Número",defaultProps:{label:"Nuevo Campo Numérico",placeholder:""},icon:i.jsx(ke,{className:"w-4 h-4"})},{type:"email",label:"Email",defaultProps:{label:"Correo Electrónico",placeholder:"ejemplo@dominio.com"},icon:i.jsx(ur,{className:"w-4 h-4"})},{type:"phone",label:"Teléfono",defaultProps:{label:"Número de Teléfono",placeholder:""},icon:i.jsx(fr,{className:"w-4 h-4"})},{type:"date",label:"Fecha",defaultProps:{label:"Selector de Fecha"},icon:i.jsx(Mt,{className:"w-4 h-4"})},{type:"time",label:"Hora",defaultProps:{label:"Selector de Hora"},icon:i.jsx(Kt,{className:"w-4 h-4"})},{type:"datetime",label:"Fecha y Hora",defaultProps:{label:"Selector de Fecha y Hora"},icon:i.jsx(Yt,{className:"w-4 h-4"})},{type:"select",label:"Selector (Dropdown)",defaultProps:{label:"Nuevo Selector"},options:[{value:"opcion1",label:"Opción 1"},{value:"opcion2",label:"Opción 2"}],icon:i.jsx(Wt,{className:"w-4 h-4"})},{type:"select_dinamico",label:"Lista Desplegable",icon:i.jsx(ke,{className:"h-4 w-4"}),defaultProps:{label:"Nueva Lista Desplegable",placeholder:"Seleccione una opción"},options:[{value:"opcion1",label:"Opción 1"},{value:"opcion2",label:"Opción 2"}],defaultValidation:{required:!1}},{type:"checklist",label:"Checklist",defaultProps:{label:"Nueva Checklist"},options:[{value:"op1",label:"Opción 1"}],icon:i.jsx(or,{className:"w-4 h-4"})},{type:"radio",label:"Grupo de Radio",defaultProps:{label:"Nuevo Grupo Radio"},options:[{value:"op1",label:"Opción 1"}],icon:i.jsx(Jt,{className:"w-4 h-4"})},{type:"checkbox",label:"Checkbox Individual",defaultProps:{label:"Nuevo Checkbox",defaultChecked:!1},icon:i.jsx(Dr,{className:"w-4 h-4"})},{type:"signature",label:"Firma",defaultProps:{label:"Campo de Firma"},icon:i.jsx(ir,{className:"w-4 h-4"})},{type:"qr_scanner",label:"Escaner QR",defaultProps:{label:"Escaner Código QR"},icon:i.jsx(vr,{className:"w-4 h-4"})},{type:"photo",label:"Foto",defaultProps:{label:"Tomar Foto"},icon:i.jsx(Rt,{className:"w-4 h-4"})},{type:"file",label:"Subir Archivo",defaultProps:{label:"Subir Archivo"},icon:i.jsx(tr,{className:"w-4 h-4"})},{type:"section",label:"Sección/Área",defaultProps:{title:"Nueva Sección",description:""},icon:i.jsx(br,{className:"w-4 h-4"})},{type:"static_text",label:"Texto Estático",defaultProps:{content:"Bloque de texto informativo."},icon:i.jsx(nr,{className:"w-4 h-4"})},{type:"divider",label:"Divisor",defaultProps:{},icon:i.jsx(hr,{className:"w-4 h-4"})}];d.useCallback(m=>{const v={id:je(),type:m.type,props:{...m.defaultProps},validation:{...m.defaultValidation},options:m.options?[...m.options]:void 0,entityName:void 0,children:m.type==="section"?[]:void 0};c(T=>[...T,v]),u(v)},[]);const x=d.useCallback((m,v)=>{for(let T=0;T<v.length;T++){const C=v[T];if(C.id===m)return{component:C,path:[T]};if(C.children&&C.children.length>0){const P=x(m,C.children);if(P.component)return{component:P.component,path:[T,...P.path||[]]}}}return{component:null,path:null}},[]),p=d.useCallback((m,v)=>{c(T=>{const C=[...T],{component:P,path:R}=x(m,C);if(P&&R){let k=C;for(let _=0;_<R.length-1;_++)k=k[R[_]].children?[...k[R[_]].children]:[],C[R[_]]={...C[R[_]],children:k};const H=R[R.length-1],X={...k[H],...v,props:{...k[H].props,...v.props||{}},validation:{...k[H].validation,...v.validation||{}},options:v.options||k[H].options,conditionalRules:v.conditionalRules||k[H].conditionalRules};return k[H]=X,l&&l.id===m&&u(X),C}return T})},[x,l]),S=d.useCallback(m=>{c(v=>{const T=v.filter(C=>C.id!==m);return l&&l.id===m&&u(null),T})},[l]),f=d.useCallback((m,v)=>{c(T=>{const C=[...T],[P]=C.splice(m,1);return C.splice(v,0,P),C})},[]);return i.jsxs("div",{className:"flex border rounded-lg overflow-hidden min-h-[600px]",children:[i.jsxs(Se,{className:"w-64 p-4 border-r rounded-none bg-card text-card-foreground",children:[i.jsx(Qe,{className:"text-md font-semibold mb-4",children:"Componentes"}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:b.map(m=>i.jsx(Us,{item:m},m.type))})]}),i.jsx(zs,{components:o,selectedComponent:l,setComponents:c,setSelectedComponent:u,moveComponent:f,deleteComponent:S}),l&&i.jsx(Gs,{component:l,onUpdate:p,onClose:()=>u(null),allComponents:o})]})};var Bs=(t,e,r,n,s,a,o,c)=>{let l=document.documentElement,u=["light","dark"];function g(p){(Array.isArray(t)?t:[t]).forEach(S=>{let f=S==="class",m=f&&a?s.map(v=>a[v]||v):s;f?(l.classList.remove(...m),l.classList.add(a&&a[p]?a[p]:p)):l.setAttribute(S,p)}),b(p)}function b(p){c&&u.includes(p)&&(l.style.colorScheme=p)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)g(n);else try{let p=localStorage.getItem(e)||r,S=o&&p==="system"?x():p;g(S)}catch{}},Ws=d.createContext(void 0),Xs={setTheme:t=>{},themes:[]},Ys=()=>{var t;return(t=d.useContext(Ws))!=null?t:Xs};d.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:o,themes:c,nonce:l,scriptProps:u})=>{let g=JSON.stringify([r,e,a,t,c,o,n,s]).slice(1,-1);return d.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${Bs.toString()})(${g})`}})});const gi=({...t})=>{const{theme:e="system"}=Ys();return i.jsx(zt,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};export{li as D,hi as F,ui as H,Me as P,gi as T};
